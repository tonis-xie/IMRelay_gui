!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);t.vis=n()}}(function(){var n;return function t(n,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!n[f]){if(h=typeof require=="function"&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};n[f][0].call(s.exports,function(t){var i=n[f][1][t];return u(i?i:t)},s,s.exports,t,n,i,r)}return i[f].exports}for(var e=typeof require=="function"&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){function i(n){if(n)return r(n)}function r(n){for(var t in i.prototype)n[t]=i.prototype[t];return n}t.exports=i;i.prototype.on=i.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks[n]=this._callbacks[n]||[]).push(t),this};i.prototype.once=function(n,t){function i(){r.off(n,i);t.apply(this,arguments)}var r=this;this._callbacks=this._callbacks||{};i.fn=t;this.on(n,i);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(n,t){var i,u,r;if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;if(i=this._callbacks[n],!i)return this;if(1==arguments.length)return delete this._callbacks[n],this;for(r=0;r<i.length;r++)if(u=i[r],u===t||u.fn===t){i.splice(r,1);break}return this};i.prototype.emit=function(n){var r,t,i,u;if(this._callbacks=this._callbacks||{},r=[].slice.call(arguments,1),t=this._callbacks[n],t)for(t=t.slice(0),i=0,u=t.length;i<u;++i)t[i].apply(this,r);return this};i.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks[n]||[]};i.prototype.hasListeners=function(n){return!!this.listeners(n).length}},{}],2:[function(t,i){
/*! Hammer.JS - v1.1.3 - 2014-05-20
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(t,r){"use strict";function tt(){if(!u.READY){l.determineEventTypes();f.each(u.gestures,function(n){e.register(n)});l.onTouch(u.DOCUMENT,h,e.detect);l.onTouch(u.DOCUMENT,o,e.detect);u.READY=!0}}var u=function u(n,t){return new u.Instance(n,t||{})};u.VERSION="1.1.3";u.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};u.DOCUMENT=document;u.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;u.HAS_TOUCHEVENTS="ontouchstart"in t;u.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent);u.NO_MOUSEEVENTS=u.HAS_TOUCHEVENTS&&u.IS_MOBILE||u.HAS_POINTEREVENTS;u.CALCULATE_INTERVAL=25;var v={},k=u.DIRECTION_DOWN="down",g=u.DIRECTION_LEFT="left",d=u.DIRECTION_UP="up",nt=u.DIRECTION_RIGHT="right",y=u.POINTER_MOUSE="mouse",w=u.POINTER_TOUCH="touch",b=u.POINTER_PEN="pen",s=u.EVENT_START="start",h=u.EVENT_MOVE="move",o=u.EVENT_END="end",c=u.EVENT_RELEASE="release",p=u.EVENT_TOUCH="touch";u.READY=!1;u.plugins=u.plugins||{};u.gestures=u.gestures||{};var f=u.utils={extend:function(n,t,i){for(var u in t)t.hasOwnProperty(u)&&(n[u]===r||!i)&&(n[u]=t[u]);return n},on:function(n,t,i){n.addEventListener(t,i,!1)},off:function(n,t,i){n.removeEventListener(t,i,!1)},each:function(n,t,i){var u,f;if("forEach"in n)n.forEach(t,i);else if(n.length!==r){for(u=0,f=n.length;u<f;u++)if(t.call(i,n[u],u,n)===!1)return}else for(u in n)if(n.hasOwnProperty(u)&&t.call(i,n[u],u,n)===!1)return},inStr:function(n,t){return n.indexOf(t)>-1},inArray:function(n,t){var r,i,u;if(n.indexOf)return r=n.indexOf(t),r===-1?!1:r;for(i=0,u=n.length;i<u;i++)if(n[i]===t)return i;return!1},toArray:function(n){return Array.prototype.slice.call(n,0)},hasParent:function(n,t){while(n){if(n==t)return!0;n=n.parentNode}return!1},getCenter:function(n){var r=[],u=[],e=[],o=[],t=Math.min,i=Math.max;return n.length===1?{pageX:n[0].pageX,pageY:n[0].pageY,clientX:n[0].clientX,clientY:n[0].clientY}:(f.each(n,function(n){r.push(n.pageX);u.push(n.pageY);e.push(n.clientX);o.push(n.clientY)}),{pageX:(t.apply(Math,r)+i.apply(Math,r))/2,pageY:(t.apply(Math,u)+i.apply(Math,u))/2,clientX:(t.apply(Math,e)+i.apply(Math,e))/2,clientY:(t.apply(Math,o)+i.apply(Math,o))/2})},getVelocity:function(n,t,i){return{x:Math.abs(t/n)||0,y:Math.abs(i/n)||0}},getAngle:function(n,t){var i=t.clientX-n.clientX,r=t.clientY-n.clientY;return Math.atan2(r,i)*180/Math.PI},getDirection:function(n,t){var i=Math.abs(n.clientX-t.clientX),r=Math.abs(n.clientY-t.clientY);return i>=r?n.clientX-t.clientX>0?g:nt:n.clientY-t.clientY>0?d:k},getDistance:function(n,t){var i=t.clientX-n.clientX,r=t.clientY-n.clientY;return Math.sqrt(i*i+r*r)},getScale:function(n,t){return n.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(n[0],n[1]):1},getRotation:function(n,t){return n.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(n[1],n[0]):0},isVertical:function(n){return n==d||n==k},setPrefixedCss:function(n,t,i,r){var o=["","Webkit","Moz","O","ms"],e,u;for(t=f.toCamelCase(t),e=0;e<o.length;e++)if(u=t,o[e]&&(u=o[e]+u.slice(0,1).toUpperCase()+u.slice(1)),u in n.style){n.style[u]=(r==null||r)&&i||"";break}},toggleBehavior:function(n,t,i){if(t&&n&&n.style){f.each(t,function(t,r){f.setPrefixedCss(n,r,t,i)});var r=i&&function(){return!1};t.userSelect=="none"&&(n.onselectstart=r);t.userDrag=="none"&&(n.ondragstart=r)}},toCamelCase:function(n){return n.replace(/[_-]([a-z])/g,function(n){return n[1].toUpperCase()})}},l=u.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(n,t,i,r){var u=t.split(" ");f.each(u,function(t){f.on(n,t,i);r&&r(t)})},off:function(n,t,i,r){var u=t.split(" ");f.each(u,function(t){f.off(n,t,i);r&&r(t)})},onTouch:function(n,t,i){var r=this,e=function(e){var v=e.type.toLowerCase(),h=u.HAS_POINTEREVENTS,c=f.inStr(v,"mouse"),l;c&&r.preventMouseEvents||(c&&t==s&&e.button===0?(r.preventMouseEvents=!1,r.shouldDetect=!0):h&&t==s?r.shouldDetect=e.buttons===1||a.matchType(w,e):c||t!=s||(r.preventMouseEvents=!0,r.shouldDetect=!0),h&&t!=o&&a.updatePointer(t,e),r.shouldDetect&&(l=r.doDetect.call(r,e,t,n,i)),l==o&&(r.preventMouseEvents=!1,r.shouldDetect=!1,a.reset()),h&&t==o&&a.updatePointer(t,e))};this.on(n,v[t],e);return e},doDetect:function(n,t,i,r){var l=this.getTouchList(n,t),y=l.length,f=t,a=l.trigger,v=y,u;return t==s?a=p:t==o&&(a=c,v=l.length-(n.changedTouches?n.changedTouches.length:1)),v>0&&this.started&&(f=h),this.started=!0,u=this.collectEventData(i,f,l,n),t!=o&&r.call(e,u),a&&(u.changedLength=v,u.eventType=a,r.call(e,u),u.eventType=f,delete u.changedLength),f==o&&(r.call(e,u),this.started=!1),f},determineEventTypes:function(){var n;return n=u.HAS_POINTEREVENTS?t.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:u.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],v[s]=n[0],v[h]=n[1],v[o]=n[2],v},getTouchList:function(n,t){if(u.HAS_POINTEREVENTS)return a.getTouchList();if(n.touches){if(t==h)return n.touches;var i=[],e=[].concat(f.toArray(n.touches),f.toArray(n.changedTouches)),r=[];return f.each(e,function(n){f.inArray(i,n.identifier)===!1&&r.push(n);i.push(n.identifier)}),r}return n.identifier=1,[n]},collectEventData:function(n,t,i,r){var u=w;return f.inStr(r.type,"mouse")||a.matchType(y,r)?u=y:a.matchType(b,r)&&(u=b),{center:f.getCenter(i),timeStamp:Date.now(),target:r.target,touches:i,eventType:t,pointerType:u,srcEvent:r,preventDefault:function(){var n=this.srcEvent;n.preventManipulation&&n.preventManipulation();n.preventDefault&&n.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return e.stopDetect()}}}},a=u.PointerEvent={pointers:{},getTouchList:function(){var n=[];return f.each(this.pointers,function(t){n.push(t)}),n},updatePointer:function(n,t){n==o||n!=o&&t.buttons!==1?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t)},matchType:function(n,t){if(!t.pointerType)return!1;var r=t.pointerType,i={};return i[y]=r===(t.MSPOINTER_TYPE_MOUSE||y),i[w]=r===(t.MSPOINTER_TYPE_TOUCH||w),i[b]=r===(t.MSPOINTER_TYPE_PEN||b),i[n]},reset:function(){this.pointers={}}},e=u.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(n,t){this.current||(this.stopped=!1,this.current={inst:n,startEvent:f.extend({},t),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(t))},detect:function(n){if(this.current&&!this.stopped){n=this.extendEventData(n);var t=this.current.inst,i=t.options;return f.each(this.gestures,function(r){!this.stopped&&t.enabled&&i[r.name]&&r.handler.call(r,n,t)},this),this.current&&(this.current.lastEvent=n),n.eventType==o&&this.stopDetect(),n}},stopDetect:function(){this.previous=f.extend({},this.current);this.current=null;this.stopped=!0},getCalculatedData:function(n,t,i,r,e){var o=this.current,l=!1,h=o.lastCalcEvent,s=o.lastCalcData;h&&n.timeStamp-h.timeStamp>u.CALCULATE_INTERVAL&&(t=h.center,i=n.timeStamp-h.timeStamp,r=n.center.clientX-h.center.clientX,e=n.center.clientY-h.center.clientY,l=!0);(n.eventType==p||n.eventType==c)&&(o.futureCalcEvent=n);(!o.lastCalcEvent||l)&&(s.velocity=f.getVelocity(i,r,e),s.angle=f.getAngle(t,n.center),s.direction=f.getDirection(t,n.center),o.lastCalcEvent=o.futureCalcEvent||n,o.futureCalcEvent=n);n.velocityX=s.velocity.x;n.velocityY=s.velocity.y;n.interimAngle=s.angle;n.interimDirection=s.direction},extendEventData:function(n){var i=this.current,t=i.startEvent,o=i.lastEvent||t;(n.eventType==p||n.eventType==c)&&(t.touches=[],f.each(n.touches,function(n){t.touches.push({clientX:n.clientX,clientY:n.clientY})}));var r=n.timeStamp-t.timeStamp,u=n.center.clientX-t.center.clientX,e=n.center.clientY-t.center.clientY;return this.getCalculatedData(n,o.center,r,u,e),f.extend(n,{startEvent:t,deltaTime:r,deltaX:u,deltaY:e,distance:f.getDistance(t.center,n.center),angle:f.getAngle(t.center,n.center),direction:f.getDirection(t.center,n.center),scale:f.getScale(t.touches,n.touches),rotation:f.getRotation(t.touches,n.touches)}),n},register:function(n){var t=n.defaults||{};return t[n.name]===r&&(t[n.name]=!0),f.extend(u.defaults,t,!0),n.index=n.index||1e3,this.gestures.push(n),this.gestures.sort(function(n,t){return n.index<t.index?-1:n.index>t.index?1:0}),this.gestures}};u.Instance=function(n,t){var i=this;tt();this.element=n;this.enabled=!0;f.each(t,function(n,i){delete t[i];t[f.toCamelCase(i)]=n});this.options=f.extend(f.extend({},u.defaults),t||{});this.options.behavior&&f.toggleBehavior(this.element,this.options.behavior,!0);this.eventStartHandler=l.onTouch(n,s,function(n){i.enabled&&n.eventType==s?e.startDetect(i,n):n.eventType==p&&e.detect(n)});this.eventHandlers=[]};u.Instance.prototype={on:function(n,t){var i=this;l.on(i.element,n,t,function(n){i.eventHandlers.push({gesture:n,handler:t})});return i},off:function(n,t){var i=this;return l.off(i.element,n,t,function(n){var r=f.inArray({gesture:n,handler:t});r!==!1&&i.eventHandlers.splice(r,1)}),i},trigger:function(n,t){var i,r;return t||(t={}),i=u.DOCUMENT.createEvent("Event"),i.initEvent(n,!0,!0),i.gesture=t,r=this.element,f.hasParent(t.target,r)&&(r=t.target),r.dispatchEvent(i),this},enable:function(n){return this.enabled=n,this},dispose:function(){var t,n;for(f.toggleBehavior(this.element,this.options.behavior,!1),t=-1;n=this.eventHandlers[++t];)f.off(this.element,n.gesture,n.handler);return this.eventHandlers=[],l.off(this.element,v[s],this.eventStartHandler),null}},function(n){function i(i,r){var u=e.current,l,a,v,y;if(!(r.options.dragMaxTouches>0)||!(i.touches.length>r.options.dragMaxTouches))switch(i.eventType){case s:t=!1;break;case h:if(i.distance<r.options.dragMinDistance&&u.name!=n)return;l=u.startEvent.center;u.name!=n&&(u.name=n,r.options.dragDistanceCorrection&&i.distance>0&&(a=Math.abs(r.options.dragMinDistance/i.distance),l.pageX+=i.deltaX*a,l.pageY+=i.deltaY*a,l.clientX+=i.deltaX*a,l.clientY+=i.deltaY*a,i=e.extendEventData(i)));(u.lastEvent.dragLockToAxis||r.options.dragLockToAxis&&r.options.dragLockMinDistance<=i.distance)&&(i.dragLockToAxis=!0);v=u.lastEvent.direction;i.dragLockToAxis&&v!==i.direction&&(i.direction=f.isVertical(v)?i.deltaY<0?d:k:i.deltaX<0?g:nt);t||(r.trigger(n+"start",i),t=!0);r.trigger(n,i);r.trigger(n+i.direction,i);y=f.isVertical(i.direction);(r.options.dragBlockVertical&&y||r.options.dragBlockHorizontal&&!y)&&i.preventDefault();break;case c:t&&i.changedLength<=r.options.dragMaxTouches&&(r.trigger(n+"end",i),t=!1);break;case o:t=!1}}var t=!1;u.gestures.Drag={name:n,index:50,handler:i,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag");u.gestures.Gesture={name:"gesture",index:1337,handler:function(n,t){t.trigger(this.name,n)}},function(n){function i(i,r){var f=r.options,u=e.current;switch(i.eventType){case s:clearTimeout(t);u.name=n;t=setTimeout(function(){u&&u.name==n&&r.trigger(n,i)},f.holdTimeout);break;case h:i.distance>f.holdThreshold&&clearTimeout(t);break;case c:clearTimeout(t)}}var t;u.gestures.Hold={name:n,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:i}}("hold");u.gestures.Release={name:"release",index:Infinity,handler:function(n,t){n.eventType==c&&t.trigger(this.name,n)}};u.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(n,t){if(n.eventType==c){var r=n.touches.length,i=t.options;if(r<i.swipeMinTouches||r>i.swipeMaxTouches)return;(n.velocityX>i.swipeVelocityX||n.velocityY>i.swipeVelocityY)&&(t.trigger(this.name,n),t.trigger(this.name+n.direction,n))}}},function(n){function i(i,r){var u=r.options,v=e.current,c=e.previous,l,a;switch(i.eventType){case s:t=!1;break;case h:t=t||i.distance>u.tapMaxDistance;break;case o:!f.inStr(i.srcEvent.type,"cancel")&&i.deltaTime<u.tapMaxTime&&!t&&(l=c&&c.lastEvent&&i.timeStamp-c.lastEvent.timeStamp,a=!1,c&&c.name==n&&l&&l<u.doubleTapInterval&&i.distance<u.doubleTapDistance&&(r.trigger("doubletap",i),a=!0),(!a||u.tapAlways)&&(v.name=n,r.trigger(v.name,i)))}}var t=!1;u.gestures.Tap={name:n,index:100,handler:i,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap");u.gestures.Touch={name:"touch",index:-Infinity,defaults:{preventDefault:!1,preventMouse:!1},handler:function(n,t){if(t.options.preventMouse&&n.pointerType==y){n.stopDetect();return}t.options.preventDefault&&n.preventDefault();n.eventType==p&&t.trigger("touch",n)}},function(n){function i(i,r){switch(i.eventType){case s:t=!1;break;case h:if(i.touches.length<2)return;var u=Math.abs(1-i.scale),f=Math.abs(i.rotation);if(u<r.options.transformMinScale&&f<r.options.transformMinRotation)return;e.current.name=n;t||(r.trigger(n+"start",i),t=!0);r.trigger(n,i);f>r.options.transformMinRotation&&r.trigger("rotate",i);u>r.options.transformMinScale&&(r.trigger("pinch",i),r.trigger("pinch"+(i.scale<1?"in":"out"),i));break;case c:t&&i.changedLength<2&&(r.trigger(n+"end",i),t=!1)}}var t=!1;u.gestures.Transform={name:n,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:i}}("transform");typeof n=="function"&&n.amd?n(function(){return u}):typeof i!="undefined"&&i.exports?i.exports=u:t.Hammer=u})(window)},{}],3:[function(n,t){function c(n,t,i){if(n.addEventListener)return n.addEventListener(t,i,!1);n.attachEvent("on"+t,i)}function d(n){return n.type=="keypress"?String.fromCharCode(n.which):u[n.which]?u[n.which]:p[n.which]?p[n.which]:String.fromCharCode(n.which).toLowerCase()}function rt(n){var t=n.target||n.srcElement,i=t.tagName;return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:i=="INPUT"||i=="SELECT"||i=="TEXTAREA"||t.contentEditable&&t.contentEditable=="true"}function ut(n,t){return n.sort().join(",")===t.sort().join(",")}function l(n){n=n||{};var t=!1;for(var i in e){if(n[i]){t=!0;continue}e[i]=0}t||(s=!1)}function g(n,t,i,u,f){var s,o,h=[];if(!r[n])return[];for(i=="keyup"&&y(n)&&(t=[n]),s=0;s<r[n].length;++s)(o=r[n][s],o.seq&&e[o.seq]!=o.level)||i==o.action&&(i=="keypress"||ut(t,o.modifiers))&&(u&&o.combo==f&&r[n].splice(s,1),h.push(o));return h}function ft(n){var t=[];return n.shiftKey&&t.push("shift"),n.altKey&&t.push("alt"),n.ctrlKey&&t.push("ctrl"),n.metaKey&&t.push("meta"),t}function a(n,t){n(t)===!1&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function et(n,t){if(!rt(t)){for(var r=g(n,ft(t),t.type),u={},f=!1,i=0;i<r.length;++i){if(r[i].seq){f=!0;u[r[i].seq]=1;a(r[i].callback,t);continue}f||s||a(r[i].callback,t)}t.type!=s||y(n)||l(u)}}function v(n){n.which=typeof n.which=="number"?n.which:n.keyCode;var t=d(n);if(t){if(n.type=="keyup"&&h==t){h=!1;return}et(t,n)}}function y(n){return n=="shift"||n=="ctrl"||n=="alt"||n=="meta"}function ot(){clearTimeout(k);k=setTimeout(l,1e3)}function st(){if(!o){o={};for(var n in u)n>95&&n<112||u.hasOwnProperty(n)&&(o[u[n]]=n)}return o}function nt(n,t,i){return i||(i=st()[n]?"keydown":"keypress"),i=="keypress"&&t.length&&(i="keydown"),i}function ht(n,t,i,r){e[n]=0;r||(r=nt(t[0],[]));for(var f=function(){s=r;++e[n];ot()},o=function(n){a(i,n);r!=="keyup"&&(h=d(n));setTimeout(l,10)},u=0;u<t.length;++u)tt(t[u],u<t.length-1?f:o,r,n,u)}function tt(n,t,i,u,f){n=n.replace(/\s+/g," ");var c=n.split(" "),s,e,h,o=[];if(c.length>1)return ht(n,c,t,i);for(h=n==="+"?["+"]:n.split("+"),s=0;s<h.length;++s)e=h[s],b[e]&&(e=b[e]),i&&i!="keypress"&&w[e]&&(e=w[e],o.push("shift")),y(e)&&o.push(e);i=nt(e,o,i);r[e]||(r[e]=[]);g(e,o,i,!u,n);r[e][u?"unshift":"push"]({callback:t,modifiers:o,action:i,seq:u,level:f,combo:n})}function ct(n,t,i){for(var r=0;r<n.length;++r)tt(n[r],t,i)}for(var it,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},p={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},w={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta","return":"enter",escape:"esc"},o,r={},f={},e={},k,h=!1,s=!1,i=1;i<20;++i)u[111+i]="f"+i;for(i=0;i<=9;++i)u[i+96]=i;c(document,"keypress",v);c(document,"keydown",v);c(document,"keyup",v);it={bind:function(n,t,i){return ct(n instanceof Array?n:[n],t,i),f[n+":"+i]=t,this},unbind:function(n,t){return f[n+":"+t]&&(delete f[n+":"+t],this.bind(n,function(){},t)),this},trigger:function(n,t){return f[n+":"+t](),this},reset:function(){return r={},f={},this}};t.exports=it},{}],4:[function(n,t,i){i.DataSet=n("./lib/DataSet");i.Timeline=n("./lib/timeline/Timeline")},{"./lib/DataSet":5,"./lib/timeline/Timeline":15}],5:[function(n,t){function i(n,t){var u,i;if(!n||Array.isArray(n)||r.isDataTable(n)||(t=n,n=null),this._options=t||{},this._data={},this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(u in this._options.type)this._options.type.hasOwnProperty(u)&&(i=this._options.type[u],this._type[u]=i=="Date"||i=="ISODate"||i=="ASPDate"?"Date":i);if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={};n&&this.add(n)}var r=n("./util");i.prototype.on=function(n,t){var i=this._subscribers[n];i||(i=[],this._subscribers[n]=i);i.push({callback:t})};i.prototype.subscribe=i.prototype.on;i.prototype.off=function(n,t){var i=this._subscribers[n];i&&(this._subscribers[n]=i.filter(function(n){return n.callback!=t}))};i.prototype.unsubscribe=i.prototype.off;i.prototype._trigger=function(n,t,i){var r,u,f;if(n=="*")throw new Error("Cannot trigger event *");for(r=[],(n in this._subscribers)&&(r=r.concat(this._subscribers[n])),("*"in this._subscribers)&&(r=r.concat(this._subscribers["*"])),u=0;u<r.length;u++)f=r[u],f.callback&&f.callback(n,t,i||null)};i.prototype.add=function(n,t){var i=[],u,s=this,e,l,h,o,a,c,f,v,y;if(Array.isArray(n))for(e=0,l=n.length;e<l;e++)u=s._addItem(n[e]),i.push(u);else if(r.isDataTable(n))for(h=this._getColumnNames(n),o=0,a=n.getNumberOfRows();o<a;o++){for(c={},f=0,v=h.length;f<v;f++)y=h[f],c[y]=n.getValue(o,f);u=s._addItem(c);i.push(u)}else if(n instanceof Object)u=s._addItem(n),i.push(u);else throw new Error("Unknown dataType");return i.length&&this._trigger("add",{items:i},t),i};i.prototype.update=function(n,t){var u=[],f=[],e=this,w=e._fieldId,h=function(n){var t=n[w];e._data[t]?(t=e._updateItem(n),f.push(t)):(t=e._addItem(n),u.push(t))},o,a,c,s,v,l,i,y,p;if(Array.isArray(n))for(o=0,a=n.length;o<a;o++)h(n[o]);else if(r.isDataTable(n))for(c=this._getColumnNames(n),s=0,v=n.getNumberOfRows();s<v;s++){for(l={},i=0,y=c.length;i<y;i++)p=c[i],l[p]=n.getValue(s,i);h(l)}else if(n instanceof Object)h(n);else throw new Error("Unknown dataType");return u.length&&this._trigger("add",{items:u},t),f.length&&this._trigger("update",{items:f},t),u.concat(f)};i.prototype.get=function(){var c=this,e,l,t,i,a=r.getType(arguments[0]),o,k,p,w,b;if(a=="String"||a=="Number"?(e=arguments[0],t=arguments[1],i=arguments[2]):a=="Array"?(l=arguments[0],t=arguments[1],i=arguments[2]):(t=arguments[0],i=arguments[1]),t&&t.returnType){if(k=["DataTable","Array","Object"],o=k.indexOf(t.returnType)==-1?"Array":t.returnType,i&&o!=r.getType(i))throw new Error('Type of parameter "data" ('+r.getType(i)+") does not correspond with specified options.type ("+t.type+")");if(o=="DataTable"&&!r.isDataTable(i))throw new Error('Parameter "data" must be a DataTable when options.type is "DataTable"');}else o=i?r.getType(i)=="DataTable"?"DataTable":"Array":"Array";var v=t&&t.type||this._options.type,s=t&&t.filter,u=[],f,y,n,h;if(e!=undefined)f=c._getItem(e,v),s&&!s(f)&&(f=null);else if(l!=undefined)for(n=0,h=l.length;n<h;n++)f=c._getItem(l[n],v),(!s||s(f))&&u.push(f);else for(y in this._data)this._data.hasOwnProperty(y)&&(f=c._getItem(y,v),(!s||s(f))&&u.push(f));if(t&&t.order&&e==undefined&&this._sort(u,t.order),t&&t.fields)if(p=t.fields,e!=undefined)f=this._filterFields(f,p);else for(n=0,h=u.length;n<h;n++)u[n]=this._filterFields(u[n],p);if(o=="DataTable"){if(w=this._getColumnNames(i),e!=undefined)c._appendRow(i,w,f);else for(n=0;n<u.length;n++)c._appendRow(i,w,u[n]);return i}if(o=="Object"){for(b={},n=0;n<u.length;n++)b[u[n].id]=u[n];return b}if(e!=undefined)return f;if(i){for(n=0,h=u.length;n<h;n++)i.push(u[n]);return i}return u};i.prototype.getIds=function(n){var i=this._data,h=n&&n.filter,o=n&&n.order,c=n&&n.type||this._options.type,r,s,t,f,u,e=[];if(h)if(o){u=[];for(t in i)i.hasOwnProperty(t)&&(f=this._getItem(t,c),h(f)&&u.push(f));for(this._sort(u,o),r=0,s=u.length;r<s;r++)e[r]=u[r][this._fieldId]}else for(t in i)i.hasOwnProperty(t)&&(f=this._getItem(t,c),h(f)&&e.push(f[this._fieldId]));else if(o){u=[];for(t in i)i.hasOwnProperty(t)&&u.push(i[t]);for(this._sort(u,o),r=0,s=u.length;r<s;r++)e[r]=u[r][this._fieldId]}else for(t in i)i.hasOwnProperty(t)&&(f=i[t],e.push(f[this._fieldId]));return e};i.prototype.getDataSet=function(){return this};i.prototype.forEach=function(n,t){var e=t&&t.filter,h=t&&t.type||this._options.type,o=this._data,i,r,f,u,s;if(t&&t.order)for(f=this.get(t),u=0,s=f.length;u<s;u++)i=f[u],r=i[this._fieldId],n(i,r);else for(r in o)o.hasOwnProperty(r)&&(i=this._getItem(r,h),(!e||e(i))&&n(i,r))};i.prototype.map=function(n,t){var f=t&&t.filter,o=t&&t.type||this._options.type,i=[],e=this._data,r;for(var u in e)e.hasOwnProperty(u)&&(r=this._getItem(u,o),(!f||f(r))&&i.push(n(r,u)));return t&&t.order&&this._sort(i,t.order),i};i.prototype._filterFields=function(n,t){var r={};for(var i in n)n.hasOwnProperty(i)&&t.indexOf(i)!=-1&&(r[i]=n[i]);return r};i.prototype._sort=function(n,t){if(r.isString(t)){var i=t;n.sort(function(n,t){var r=n[i],u=t[i];return r>u?1:r<u?-1:0})}else if(typeof t=="function")n.sort(t);else throw new TypeError("Order must be a function or a string");};i.prototype.remove=function(n,t){var r=[],u,f,i;if(Array.isArray(n))for(u=0,f=n.length;u<f;u++)i=this._remove(n[u]),i!=null&&r.push(i);else i=this._remove(n),i!=null&&r.push(i);return r.length&&this._trigger("remove",{items:r},t),r};i.prototype._remove=function(n){if(r.isNumber(n)||r.isString(n)){if(this._data[n])return delete this._data[n],n}else if(n instanceof Object){var t=n[this._fieldId];if(t&&this._data[t])return delete this._data[t],t}return null};i.prototype.clear=function(n){var t=Object.keys(this._data);return this._data={},this._trigger("remove",{items:t},n),t};i.prototype.max=function(n){var i=this._data,r=null,e=null,u,f,t;for(u in i)i.hasOwnProperty(u)&&(f=i[u],t=f[n],t!=null&&(!r||t>e)&&(r=f,e=t));return r};i.prototype.min=function(n){var i=this._data,r=null,e=null,u,f,t;for(u in i)i.hasOwnProperty(u)&&(f=i[u],t=f[n],t!=null&&(!r||t<e)&&(r=f,e=t));return r};i.prototype.distinct=function(n){var u=this._data,i=[],o=this._options.type&&this._options.type[n]||null,f=0,t;for(var s in u)if(u.hasOwnProperty(s)){var c=u[s],e=c[n],h=!1;for(t=0;t<f;t++)if(i[t]==e){h=!0;break}h||e===undefined||(i[f]=e,f++)}if(o)for(t=0;t<i.length;t++)i[t]=r.convert(i[t],o);return i};i.prototype._addItem=function(n){var t=n[this._fieldId],u,i,f;if(t!=undefined){if(this._data[t])throw new Error("Cannot add item: item with id "+t+" already exists");}else t=r.randomUUID(),n[this._fieldId]=t;u={};for(i in n)n.hasOwnProperty(i)&&(f=this._type[i],u[i]=r.convert(n[i],f));return this._data[t]=u,t};i.prototype._getItem=function(n,t){var i,f,u=this._data[n],e;if(!u)return null;if(e={},t)for(i in u)u.hasOwnProperty(i)&&(f=u[i],e[i]=r.convert(f,t[i]));else for(i in u)u.hasOwnProperty(i)&&(f=u[i],e[i]=f);return e};i.prototype._updateItem=function(n){var i=n[this._fieldId],u,t,f;if(i==undefined)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(n)+")");if(u=this._data[i],!u)throw new Error("Cannot update item: no item with id "+i+" found");for(t in n)n.hasOwnProperty(t)&&(f=this._type[t],u[t]=r.convert(n[t],f));return i};i.prototype._getColumnNames=function(n){for(var i=[],t=0,r=n.getNumberOfColumns();t<r;t++)i[t]=n.getColumnId(t)||n.getColumnLabel(t);return i};i.prototype._appendRow=function(n,t,i){for(var u,f=n.addRow(),r=0,e=t.length;r<e;r++)u=t[r],n.setValue(f,r,i[u])};t.exports=i},{"./util":28}],6:[function(n,t){function i(n,t){this._data=null;this._ids={};this._options=t||{};this._fieldId="id";this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)};this.setData(n)}var u=n("./util"),r=n("./DataSet");i.prototype.setData=function(n){var t,r,u,i;if(this._data){this._data.unsubscribe&&this._data.unsubscribe("*",this.listener);t=[];for(i in this._ids)this._ids.hasOwnProperty(i)&&t.push(i);this._ids={};this._trigger("remove",{items:t})}if(this._data=n,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",t=this._data.getIds({filter:this._options&&this._options.filter}),r=0,u=t.length;r<u;r++)i=t[r],this._ids[i]=!0;if(this._trigger("add",{items:t}),this._data.on)this._data.on("*",this.listener)}};i.prototype.get=function(){var o=this,i,n,r,f=u.getType(arguments[0]),e,t;return f=="String"||f=="Number"||f=="Array"?(i=arguments[0],n=arguments[1],r=arguments[2]):(n=arguments[0],r=arguments[1]),e=u.extend({},this._options,n),this._options.filter&&n&&n.filter&&(e.filter=function(t){return o._options.filter(t)&&n.filter(t)}),t=[],i!=undefined&&t.push(i),t.push(e),t.push(r),this._data&&this._data.get.apply(this._data,t)};i.prototype.getIds=function(n){var i,t,r;return this._data?(t=this._options.filter,r=n&&n.filter?t?function(i){return t(i)&&n.filter(i)}:n.filter:t,i=this._data.getIds({filter:r,order:n&&n.order})):i=[],i};i.prototype.getDataSet=function(){for(var n=this;n instanceof i;)n=n._data;return n||null};i.prototype._onEvent=function(n,t,i){var u,e,r,o,f=t&&t.items,l=this._data,s=[],c=[],h=[];if(f&&l){switch(n){case"add":for(u=0,e=f.length;u<e;u++)r=f[u],o=this.get(r),o&&(this._ids[r]=!0,s.push(r));break;case"update":for(u=0,e=f.length;u<e;u++)r=f[u],o=this.get(r),o?this._ids[r]?c.push(r):(this._ids[r]=!0,s.push(r)):this._ids[r]&&(delete this._ids[r],h.push(r));break;case"remove":for(u=0,e=f.length;u<e;u++)r=f[u],this._ids[r]&&(delete this._ids[r],h.push(r))}s.length&&this._trigger("add",{items:s},i);c.length&&this._trigger("update",{items:c},i);h.length&&this._trigger("remove",{items:h},i)}};i.prototype.on=r.prototype.on;i.prototype.off=r.prototype.off;i.prototype._trigger=r.prototype._trigger;i.prototype.subscribe=i.prototype.on;i.prototype.unsubscribe=i.prototype.off;t.exports=i},{"./DataSet":5,"./util":28}],7:[function(n,t,i){var r=n("./module/hammer");i.fakeGesture=function(n,t){var u=null,f=r.event.getTouchList(t,u),i=r.event.collectEventData(this,u,f,t);return isNaN(i.center.pageX)&&(i.center.pageX=t.pageX),isNaN(i.center.pageY)&&(i.center.pageY=t.pageY),i}},{"./module/hammer":8}],8:[function(n,t){t.exports=typeof window!="undefined"?window.Hammer||n("hammerjs"):function(){throw Error("hammer.js is only available in a browser, not in node.js.");}},{hammerjs:2}],9:[function(n,t){t.exports=typeof window!="undefined"&&window.moment||n("moment")},{moment:"moment"}],10:[function(n,t){function i(n){this.active=!1;this.dom={container:n};this.dom.overlay=document.createElement("div");this.dom.overlay.className="overlay";this.dom.container.appendChild(this.dom.overlay);this.hammer=u(this.dom.overlay,{prevent_default:!1});this.hammer.on("tap",this._onTapOverlay.bind(this));var t=this;["touch","pinch","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"].forEach(function(n){t.hammer.on(n,function(n){n.stopPropagation()})});this.windowHammer=u(window,{prevent_default:!1});this.windowHammer.on("tap",function(i){o(i.target,n)||t.deactivate()});this.escListener=this.deactivate.bind(this)}function o(n,t){while(n){if(n===t)return!0;n=n.parentNode}return!1}var r=n("mousetrap"),e=n("emitter-component"),u=n("../module/hammer"),f=n("../util");e(i.prototype);i.current=null;i.prototype.destroy=function(){this.deactivate();this.dom.overlay.parentNode.removeChild(this.dom.overlay);this.hammer=null;this.windowHammer=null};i.prototype.activate=function(){i.current&&i.current.deactivate();i.current=this;this.active=!0;this.dom.overlay.style.display="none";f.addClassName(this.dom.container,"vis-active");this.emit("change");this.emit("activate");r.bind("esc",this.escListener)};i.prototype.deactivate=function(){this.active=!1;this.dom.overlay.style.display="";f.removeClassName(this.dom.container,"vis-active");r.unbind("esc",this.escListener);this.emit("change");this.emit("deactivate")};i.prototype._onTapOverlay=function(n){this.activate();n.stopPropagation()};t.exports=i},{"../module/hammer":8,"../util":28,"emitter-component":1,mousetrap:3}],11:[function(n,t){function i(){}var u=n("emitter-component"),f=n("../module/hammer"),r=n("../util"),o=n("../DataSet"),s=n("../DataView"),h=n("./Range"),c=n("./component/TimeAxis"),l=n("./component/CurrentTime"),a=n("./component/CustomTime"),v=n("./component/ItemSet"),e=n("../shared/Activator");u(i.prototype);i.prototype._create=function(n){this.dom={};this.dom.root=document.createElement("div");this.dom.background=document.createElement("div");this.dom.backgroundVertical=document.createElement("div");this.dom.backgroundHorizontal=document.createElement("div");this.dom.centerContainer=document.createElement("div");this.dom.leftContainer=document.createElement("div");this.dom.rightContainer=document.createElement("div");this.dom.center=document.createElement("div");this.dom.left=document.createElement("div");this.dom.right=document.createElement("div");this.dom.top=document.createElement("div");this.dom.bottom=document.createElement("div");this.dom.shadowTop=document.createElement("div");this.dom.shadowBottom=document.createElement("div");this.dom.shadowTopLeft=document.createElement("div");this.dom.shadowBottomLeft=document.createElement("div");this.dom.shadowTopRight=document.createElement("div");this.dom.shadowBottomRight=document.createElement("div");this.dom.root.className="vis timeline root";this.dom.background.className="vispanel background";this.dom.backgroundVertical.className="vispanel background vertical";this.dom.backgroundHorizontal.className="vispanel background horizontal";this.dom.centerContainer.className="vispanel center";this.dom.leftContainer.className="vispanel left";this.dom.rightContainer.className="vispanel right";this.dom.top.className="vispanel top";this.dom.bottom.className="vispanel bottom";this.dom.left.className="content";this.dom.center.className="content";this.dom.right.className="content";this.dom.shadowTop.className="shadow top";this.dom.shadowBottom.className="shadow bottom";this.dom.shadowTopLeft.className="shadow top";this.dom.shadowBottomLeft.className="shadow bottom";this.dom.shadowTopRight.className="shadow top";this.dom.shadowBottomRight.className="shadow bottom";this.dom.root.appendChild(this.dom.background);this.dom.root.appendChild(this.dom.backgroundVertical);this.dom.root.appendChild(this.dom.backgroundHorizontal);this.dom.root.appendChild(this.dom.centerContainer);this.dom.root.appendChild(this.dom.leftContainer);this.dom.root.appendChild(this.dom.rightContainer);this.dom.root.appendChild(this.dom.top);this.dom.root.appendChild(this.dom.bottom);this.dom.centerContainer.appendChild(this.dom.center);this.dom.leftContainer.appendChild(this.dom.left);this.dom.rightContainer.appendChild(this.dom.right);this.dom.centerContainer.appendChild(this.dom.shadowTop);this.dom.centerContainer.appendChild(this.dom.shadowBottom);this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);this.dom.rightContainer.appendChild(this.dom.shadowTopRight);this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);this.on("rangechange",this.redraw.bind(this));this.on("change",this.redraw.bind(this));this.on("touch",this._onTouch.bind(this));this.on("pinch",this._onPinch.bind(this));this.on("dragstart",this._onDragStart.bind(this));this.on("drag",this._onDrag.bind(this));this.hammer=f(this.dom.root,{preventDefault:!0});this.listeners={};var t=this;if(["touch","pinch","tap","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"].forEach(function(n){var i=function(){var i=[n].concat(Array.prototype.slice.call(arguments,0));t.isActive()&&t.emit.apply(t,i)};t.hammer.on(n,i);t.listeners[n]=i}),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.touch={},!n)throw new Error("No container provided");n.appendChild(this.dom.root)};i.prototype.setOptions=function(n){if(n)r.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","orientation","clickToUse","dataAttributes"],this.options,n),"clickToUse"in n&&(n.clickToUse?this.activator=new e(this.dom.root):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize();if(this.components.forEach(function(t){t.setOptions(n)}),n&&n.order)throw new Error("Option order is deprecated. There is no replacement for this feature.");this.redraw()};i.prototype.isActive=function(){return!this.activator||this.activator.active};i.prototype.destroy=function(){this.clear();this.off();this._stopAutoResize();this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root);this.dom=null;this.activator&&(this.activator.destroy(),delete this.activator);for(var n in this.listeners)this.listeners.hasOwnProperty(n)&&delete this.listeners[n];this.listeners=null;this.hammer=null;this.components.forEach(function(n){n.destroy()});this.body=null};i.prototype.setCustomTime=function(n){if(!this.customTime)throw new Error("Cannot get custom time: Custom time bar is not enabled");this.customTime.setCustomTime(n)};i.prototype.getCustomTime=function(){if(!this.customTime)throw new Error("Cannot get custom time: Custom time bar is not enabled");return this.customTime.getCustomTime()};i.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]};i.prototype.clear=function(n){(!n||n.items)&&this.setItems(null);(!n||n.groups)&&this.setGroups(null);(!n||n.options)&&(this.components.forEach(function(n){n.setOptions(n.defaultOptions)}),this.setOptions(this.defaultOptions))};i.prototype.fit=function(n){var u=this.getItemRange(),t=u.min,i=u.max,r,f;(t!=null&&i!=null&&(r=i.valueOf()-t.valueOf(),r<=0&&(r=864e5),t=new Date(t.valueOf()-r*.05),i=new Date(i.valueOf()+r*.05)),t!==null||i!==null)&&(f=n&&n.animate!==undefined?n.animate:!0,this.range.setRange(t,i,f))};i.prototype.setWindow=function(n,t,i){var u=i&&i.animate!==undefined?i.animate:!0,r;arguments.length==1?(r=arguments[0],this.range.setRange(r.start,r.end,u)):this.range.setRange(n,t,u)};i.prototype.moveTo=function(n,t){var i=this.range.end-this.range.start,u=r.convert(n,"Date").valueOf(),f=u-i/2,e=u+i/2,o=t&&t.animate!==undefined?t.animate:!0;this.range.setRange(f,e,o)};i.prototype.getWindow=function(){var n=this.range.getRange();return{start:new Date(n.start),end:new Date(n.end)}};i.prototype.redraw=function(){var h=!1,i=this.options,n=this.props,t=this.dom,e,c,a,v,l,u,f,o,s;t&&(i.orientation=="top"?(r.addClassName(t.root,"top"),r.removeClassName(t.root,"bottom")):(r.removeClassName(t.root,"top"),r.addClassName(t.root,"bottom")),t.root.style.maxHeight=r.option.asSize(i.maxHeight,""),t.root.style.minHeight=r.option.asSize(i.minHeight,""),t.root.style.width=r.option.asSize(i.width,""),n.border.left=(t.centerContainer.offsetWidth-t.centerContainer.clientWidth)/2,n.border.right=n.border.left,n.border.top=(t.centerContainer.offsetHeight-t.centerContainer.clientHeight)/2,n.border.bottom=n.border.top,e=t.root.offsetHeight-t.root.clientHeight,c=t.root.offsetWidth-t.root.clientWidth,n.center.height=t.center.offsetHeight,n.left.height=t.left.offsetHeight,n.right.height=t.right.offsetHeight,n.top.height=t.top.clientHeight||-n.border.top,n.bottom.height=t.bottom.clientHeight||-n.border.bottom,a=Math.max(n.left.height,n.center.height,n.right.height),v=n.top.height+a+n.bottom.height+e+n.border.top+n.border.bottom,t.root.style.height=r.option.asSize(i.height,v+"px"),n.root.height=t.root.offsetHeight,n.background.height=n.root.height-e,l=n.root.height-n.top.height-n.bottom.height-e,n.centerContainer.height=l,n.leftContainer.height=l,n.rightContainer.height=n.leftContainer.height,n.root.width=t.root.offsetWidth,n.background.width=n.root.width-c,n.left.width=t.leftContainer.clientWidth||-n.border.left,n.leftContainer.width=n.left.width,n.right.width=t.rightContainer.clientWidth||-n.border.right,n.rightContainer.width=n.right.width,u=n.root.width-n.left.width-n.right.width-c,n.center.width=u,n.centerContainer.width=u,n.top.width=u,n.bottom.width=u,t.background.style.height=n.background.height+"px",t.backgroundVertical.style.height=n.background.height+"px",t.backgroundHorizontal.style.height=n.centerContainer.height+"px",t.centerContainer.style.height=n.centerContainer.height+"px",t.leftContainer.style.height=n.leftContainer.height+"px",t.rightContainer.style.height=n.rightContainer.height+"px",t.background.style.width=n.background.width+"px",t.backgroundVertical.style.width=n.centerContainer.width+"px",t.backgroundHorizontal.style.width=n.background.width+"px",t.centerContainer.style.width=n.center.width+"px",t.top.style.width=n.top.width+"px",t.bottom.style.width=n.bottom.width+"px",t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left=n.left.width+n.border.left+"px",t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top=n.top.height+"px",t.centerContainer.style.left=n.left.width+"px",t.centerContainer.style.top=n.top.height+"px",t.leftContainer.style.left="0",t.leftContainer.style.top=n.top.height+"px",t.rightContainer.style.left=n.left.width+n.center.width+"px",t.rightContainer.style.top=n.top.height+"px",t.top.style.left=n.left.width+"px",t.top.style.top="0",t.bottom.style.left=n.left.width+"px",t.bottom.style.top=n.top.height+n.centerContainer.height+"px",this._updateScrollTop(),f=this.props.scrollTop,i.orientation=="bottom"&&(f+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),t.center.style.left="0",t.center.style.top=f+"px",t.left.style.left="0",t.left.style.top=f+"px",t.right.style.left="0",t.right.style.top=f+"px",o=this.props.scrollTop==0?"hidden":"",s=this.props.scrollTop==this.props.scrollTopMin?"hidden":"",t.shadowTop.style.visibility=o,t.shadowBottom.style.visibility=s,t.shadowTopLeft.style.visibility=o,t.shadowBottomLeft.style.visibility=s,t.shadowTopRight.style.visibility=o,t.shadowBottomRight.style.visibility=s,this.components.forEach(function(n){h=n.redraw()||h}),h&&this.redraw())};i.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.");};i.prototype.setCurrentTime=function(n){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(n)};i.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()};i.prototype._toTime=function(n){var t=this.range.conversion(this.props.center.width);return new Date(n/t.scale+t.offset)};i.prototype._toGlobalTime=function(n){var t=this.range.conversion(this.props.root.width);return new Date(n/t.scale+t.offset)};i.prototype._toScreen=function(n){var t=this.range.conversion(this.props.center.width);return(n.valueOf()-t.offset)*t.scale};i.prototype._toGlobalScreen=function(n){var t=this.range.conversion(this.props.root.width);return(n.valueOf()-t.offset)*t.scale};i.prototype._initAutoResize=function(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()};i.prototype._startAutoResize=function(){var n=this;this._stopAutoResize();this._onResize=function(){if(n.options.autoResize!=!0){n._stopAutoResize();return}n.dom.root&&(n.dom.root.offsetWidth!=n.props.lastWidth||n.dom.root.offsetHeight!=n.props.lastHeight)&&(n.props.lastWidth=n.dom.root.offsetWidth,n.props.lastHeight=n.dom.root.offsetHeight,n.emit("change"))};r.addEventListener(window,"resize",this._onResize);this.watchTimer=setInterval(this._onResize,1e3)};i.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=undefined);r.removeEventListener(window,"resize",this._onResize);this._onResize=null};i.prototype._onTouch=function(){this.touch.allowDragging=!0};i.prototype._onPinch=function(){this.touch.allowDragging=!1};i.prototype._onDragStart=function(){this.touch.initialScrollTop=this.props.scrollTop};i.prototype._onDrag=function(n){if(this.touch.allowDragging){var t=n.gesture.deltaY,i=this._getScrollTop(),r=this._setScrollTop(this.touch.initialScrollTop+t);r!=i&&this.redraw()}};i.prototype._setScrollTop=function(n){return this.props.scrollTop=n,this._updateScrollTop(),this.props.scrollTop};i.prototype._updateScrollTop=function(){var n=Math.min(this.props.centerContainer.height-this.props.center.height,0);return n!=this.props.scrollTopMin&&(this.options.orientation=="bottom"&&(this.props.scrollTop+=n-this.props.scrollTopMin),this.props.scrollTopMin=n),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<n&&(this.props.scrollTop=n),this.props.scrollTop};i.prototype._getScrollTop=function(){return this.props.scrollTop};t.exports=i},{"../DataSet":5,"../DataView":6,"../module/hammer":8,"../shared/Activator":10,"../util":28,"./Range":12,"./component/CurrentTime":17,"./component/CustomTime":18,"./component/ItemSet":20,"./component/TimeAxis":21,"emitter-component":1}],12:[function(n,t){function i(n,t){var i=o().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=i.clone().add("days",-3).valueOf();this.end=i.clone().add("days",4).valueOf();this.body=n;this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10};this.options=r.extend({},this.defaultOptions);this.props={touch:{}};this.animateTimer=null;this.body.emitter.on("dragstart",this._onDragStart.bind(this));this.body.emitter.on("drag",this._onDrag.bind(this));this.body.emitter.on("dragend",this._onDragEnd.bind(this));this.body.emitter.on("hold",this._onHold.bind(this));this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this));this.body.emitter.on("DOMMouseScroll",this._onMouseWheel.bind(this));this.body.emitter.on("touch",this._onTouch.bind(this));this.body.emitter.on("pinch",this._onPinch.bind(this));this.setOptions(t)}function u(n){if(n!="horizontal"&&n!="vertical")throw new TypeError('Unknown direction "'+n+'". Choose "horizontal" or "vertical".');}function f(n,t){return{x:n.pageX-r.getAbsoluteLeft(t),y:n.pageY-r.getAbsoluteTop(t)}}var r=n("../util"),e=n("../hammerUtil"),o=n("../module/moment"),s=n("./component/Component");i.prototype=new s;i.prototype.setOptions=function(n){if(n)r.selectiveExtend(["direction","min","max","zoomMin","zoomMax","moveable","zoomable","activate"],this.options,n),("start"in n||"end"in n)&&this.setRange(n.start,n.end)};i.prototype.setRange=function(n,t,i){var e=n!=undefined?r.convert(n,"Date").valueOf():null,o=t!=undefined?r.convert(t,"Date").valueOf():null,f,c;if(this._cancelAnimation(),i){var u=this,a=this.start,v=this.end,s=typeof i=="number"?i:500,y=(new Date).valueOf(),h=!1;function l(){if(!u.props.touch.dragging){var i=(new Date).valueOf(),n=i-y,t=n>s,c=t||e===null?e:r.easeInOutQuad(n,a,e,s),p=t||o===null?o:r.easeInOutQuad(n,v,o,s);f=u._applyRange(c,p);h=h||f;f&&u.body.emitter.emit("rangechange",{start:new Date(u.start),end:new Date(u.end)});t?h&&u.body.emitter.emit("rangechanged",{start:new Date(u.start),end:new Date(u.end)}):u.animateTimer=setTimeout(l,20)}}return l()}f=this._applyRange(e,o);f&&(c={start:new Date(this.start),end:new Date(this.end)},this.body.emitter.emit("rangechange",c),this.body.emitter.emit("rangechanged",c))};i.prototype._cancelAnimation=function(){this.animateTimer&&(clearTimeout(this.animateTimer),this.animateTimer=null)};i.prototype._applyRange=function(n,t){var i=n!=null?r.convert(n,"Date").valueOf():this.start,u=t!=null?r.convert(t,"Date").valueOf():this.end,e=this.options.max!=null?r.convert(this.options.max,"Date").valueOf():null,o=this.options.min!=null?r.convert(this.options.min,"Date").valueOf():null,f,s,h,c;if(isNaN(i)||i===null)throw new Error('Invalid start "'+n+'"');if(isNaN(u)||u===null)throw new Error('Invalid end "'+t+'"');return u<i&&(u=i),o!==null&&i<o&&(f=o-i,i+=f,u+=f,e!=null&&u>e&&(u=e)),e!==null&&u>e&&(f=u-e,i-=f,u-=f,o!=null&&i<o&&(i=o)),this.options.zoomMin!==null&&(s=parseFloat(this.options.zoomMin),s<0&&(s=0),u-i<s&&(this.end-this.start===s?(i=this.start,u=this.end):(f=s-(u-i),i-=f/2,u+=f/2))),this.options.zoomMax!==null&&(h=parseFloat(this.options.zoomMax),h<0&&(h=0),u-i>h&&(this.end-this.start===h?(i=this.start,u=this.end):(f=u-i-h,i+=f/2,u-=f/2))),c=this.start!=i||this.end!=u,this.start=i,this.end=u,c};i.prototype.getRange=function(){return{start:this.start,end:this.end}};i.prototype.conversion=function(n){return i.conversion(this.start,this.end,n)};i.conversion=function(n,t,i){return i!=0&&t-n!=0?{offset:n,scale:i/(t-n)}:{offset:0,scale:1}};i.prototype._onDragStart=function(){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))};i.prototype._onDrag=function(n){var t;if(this.options.moveable&&(t=this.options.direction,u(t),this.props.touch.allowDragging)){var r=t=="horizontal"?n.gesture.deltaX:n.gesture.deltaY,f=this.props.touch.end-this.props.touch.start,e=t=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height,i=-r/e*f;this._applyRange(this.props.touch.start+i,this.props.touch.end+i);this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end)})}};i.prototype._onDragEnd=function(){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end)}))};i.prototype._onMouseWheel=function(n){var t,i;if(this.options.zoomable&&this.options.moveable){if(t=0,n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3),t){i=t<0?1-t/5:1/(1+t/5);var r=e.fakeGesture(this,n),u=f(r.center,this.body.dom.center),o=this._pointerToDate(u);this.zoom(i,o)}n.preventDefault()}};i.prototype._onTouch=function(){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.allowDragging=!0;this.props.touch.center=null};i.prototype._onHold=function(){this.props.touch.allowDragging=!1};i.prototype._onPinch=function(n){if(this.options.zoomable&&this.options.moveable&&(this.props.touch.allowDragging=!1,n.gesture.touches.length>1)){this.props.touch.center||(this.props.touch.center=f(n.gesture.center,this.body.dom.center));var i=1/n.gesture.scale,t=this._pointerToDate(this.props.touch.center),r=parseInt(t+(this.props.touch.start-t)*i),u=parseInt(t+(this.props.touch.end-t)*i);this.setRange(r,u)}};i.prototype._pointerToDate=function(n){var t,i=this.options.direction,r,f;return u(i),i=="horizontal"?(r=this.body.domProps.center.width,t=this.conversion(r),n.x/t.scale+t.offset):(f=this.body.domProps.center.height,t=this.conversion(f),n.y/t.scale+t.offset)};i.prototype.zoom=function(n,t){t==null&&(t=(this.start+this.end)/2);var i=t+(this.start-t)*n,r=t+(this.end-t)*n;this.setRange(i,r)};i.prototype.move=function(n){var t=this.end-this.start,i=this.start+t*n,r=this.end+t*n;this.start=i;this.end=r};i.prototype.moveTo=function(n){var i=(this.start+this.end)/2,t=i-n,r=this.start-t,u=this.end-t;this.setRange(r,u)};t.exports=i},{"../hammerUtil":7,"../module/moment":9,"../util":28,"./component/Component":16}],13:[function(n,t,i){var r=.001;i.orderByStart=function(n){n.sort(function(n,t){return n.data.start-t.data.start})};i.orderByEnd=function(n){n.sort(function(n,t){var i="end"in n.data?n.data.end:n.data.start,r="end"in t.data?t.data.end:t.data.start;return i-r})};i.stack=function(n,t,r){var u,s,f,e,h,c,o;if(r)for(u=0,s=n.length;u<s;u++)n[u].top=null;for(u=0,s=n.length;u<s;u++)if(f=n[u],f.top===null){f.top=t.axis;do{for(e=null,h=0,c=n.length;h<c;h++)if(o=n[h],o.top!==null&&o!==f&&i.collision(f,o,t.item)){e=o;break}e!=null&&(f.top=e.top+e.height+t.item.vertical)}while(e)}};i.nostack=function(n,t){for(var i=0,r=n.length;i<r;i++)n[i].top=t.axis};i.collision=function(n,t,i){return n.left-i.horizontal+r<t.left+t.width&&n.left+n.width+i.horizontal-r>t.left&&n.top-i.vertical+r<t.top+t.height&&n.top+n.height+i.vertical-r>t.top}},{}],14:[function(n,t){function i(n,t,r){this.current=new Date;this._start=new Date;this._end=new Date;this.autoScale=!0;this.scale=i.SCALE.DAY;this.step=1;this.setRange(n,t,r)}var r=n("../module/moment");i.SCALE={MILLISECOND:1,SECOND:2,MINUTE:3,HOUR:4,DAY:5,WEEKDAY:6,MONTH:7,YEAR:8};i.prototype.setRange=function(n,t,i){if(!(n instanceof Date)||!(t instanceof Date))throw"No legal start or end date in method setRange";this._start=n!=undefined?new Date(n.valueOf()):new Date;this._end=t!=undefined?new Date(t.valueOf()):new Date;this.autoScale&&this.setMinimumStep(i)};i.prototype.first=function(){this.current=new Date(this._start.valueOf());this.roundToMinor()};i.prototype.roundToMinor=function(){switch(this.scale){case i.SCALE.YEAR:this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step));this.current.setMonth(0);case i.SCALE.MONTH:this.current.setDate(1);case i.SCALE.DAY:case i.SCALE.WEEKDAY:this.current.setHours(0);case i.SCALE.HOUR:this.current.setMinutes(0);case i.SCALE.MINUTE:this.current.setSeconds(0);case i.SCALE.SECOND:this.current.setMilliseconds(0)}if(this.step!=1)switch(this.scale){case i.SCALE.MILLISECOND:this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case i.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case i.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case i.SCALE.HOUR:this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case i.SCALE.WEEKDAY:case i.SCALE.DAY:this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case i.SCALE.MONTH:this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case i.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step)}};i.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()};i.prototype.next=function(){var t=this.current.valueOf(),n;if(this.current.getMonth()<6)switch(this.scale){case i.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case i.SCALE.SECOND:this.current=new Date(this.current.valueOf()+this.step*1e3);break;case i.SCALE.MINUTE:this.current=new Date(this.current.valueOf()+this.step*6e4);break;case i.SCALE.HOUR:this.current=new Date(this.current.valueOf()+this.step*36e5);n=this.current.getHours();this.current.setHours(n-n%this.step);break;case i.SCALE.WEEKDAY:case i.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case i.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case i.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}else switch(this.scale){case i.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case i.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()+this.step);break;case i.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()+this.step);break;case i.SCALE.HOUR:this.current.setHours(this.current.getHours()+this.step);break;case i.SCALE.WEEKDAY:case i.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case i.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case i.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}if(this.step!=1)switch(this.scale){case i.SCALE.MILLISECOND:this.current.getMilliseconds()<this.step&&this.current.setMilliseconds(0);break;case i.SCALE.SECOND:this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case i.SCALE.MINUTE:this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case i.SCALE.HOUR:this.current.getHours()<this.step&&this.current.setHours(0);break;case i.SCALE.WEEKDAY:case i.SCALE.DAY:this.current.getDate()<this.step+1&&this.current.setDate(1);break;case i.SCALE.MONTH:this.current.getMonth()<this.step&&this.current.setMonth(0)}this.current.valueOf()==t&&(this.current=new Date(this._end.valueOf()))};i.prototype.getCurrent=function(){return this.current};i.prototype.setScale=function(n,t){this.scale=n;t>0&&(this.step=t);this.autoScale=!1};i.prototype.setAutoScale=function(n){this.autoScale=n};i.prototype.setMinimumStep=function(n){if(n!=undefined){var t=31104e6,o=2592e6,u=864e5,s=36e5,f=6e4,e=1e3,r=1;t*1e3>n&&(this.scale=i.SCALE.YEAR,this.step=1e3);t*500>n&&(this.scale=i.SCALE.YEAR,this.step=500);t*100>n&&(this.scale=i.SCALE.YEAR,this.step=100);t*50>n&&(this.scale=i.SCALE.YEAR,this.step=50);t*10>n&&(this.scale=i.SCALE.YEAR,this.step=10);t*5>n&&(this.scale=i.SCALE.YEAR,this.step=5);t>n&&(this.scale=i.SCALE.YEAR,this.step=1);o*3>n&&(this.scale=i.SCALE.MONTH,this.step=3);o>n&&(this.scale=i.SCALE.MONTH,this.step=1);u*5>n&&(this.scale=i.SCALE.DAY,this.step=5);u*2>n&&(this.scale=i.SCALE.DAY,this.step=2);u>n&&(this.scale=i.SCALE.DAY,this.step=1);u/2>n&&(this.scale=i.SCALE.WEEKDAY,this.step=1);s*4>n&&(this.scale=i.SCALE.HOUR,this.step=4);s>n&&(this.scale=i.SCALE.HOUR,this.step=1);f*15>n&&(this.scale=i.SCALE.MINUTE,this.step=15);f*10>n&&(this.scale=i.SCALE.MINUTE,this.step=10);f*5>n&&(this.scale=i.SCALE.MINUTE,this.step=5);f>n&&(this.scale=i.SCALE.MINUTE,this.step=1);e*15>n&&(this.scale=i.SCALE.SECOND,this.step=15);e*10>n&&(this.scale=i.SCALE.SECOND,this.step=10);e*5>n&&(this.scale=i.SCALE.SECOND,this.step=5);e>n&&(this.scale=i.SCALE.SECOND,this.step=1);r*200>n&&(this.scale=i.SCALE.MILLISECOND,this.step=200);r*100>n&&(this.scale=i.SCALE.MILLISECOND,this.step=100);r*50>n&&(this.scale=i.SCALE.MILLISECOND,this.step=50);r*10>n&&(this.scale=i.SCALE.MILLISECOND,this.step=10);r*5>n&&(this.scale=i.SCALE.MILLISECOND,this.step=5);r>n&&(this.scale=i.SCALE.MILLISECOND,this.step=1)}};i.prototype.snap=function(n){var t=new Date(n.valueOf()),u,r;if(this.scale==i.SCALE.YEAR)u=t.getFullYear()+Math.round(t.getMonth()/12),t.setFullYear(Math.round(u/this.step)*this.step),t.setMonth(0),t.setDate(0),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);else if(this.scale==i.SCALE.MONTH)t.getDate()>15?(t.setDate(1),t.setMonth(t.getMonth()+1)):t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);else if(this.scale==i.SCALE.DAY){switch(this.step){case 5:case 2:t.setHours(Math.round(t.getHours()/24)*24);break;default:t.setHours(Math.round(t.getHours()/12)*12)}t.setMinutes(0);t.setSeconds(0);t.setMilliseconds(0)}else if(this.scale==i.SCALE.WEEKDAY){switch(this.step){case 5:case 2:t.setHours(Math.round(t.getHours()/12)*12);break;default:t.setHours(Math.round(t.getHours()/6)*6)}t.setMinutes(0);t.setSeconds(0);t.setMilliseconds(0)}else if(this.scale==i.SCALE.HOUR){switch(this.step){case 4:t.setMinutes(Math.round(t.getMinutes()/60)*60);break;default:t.setMinutes(Math.round(t.getMinutes()/30)*30)}t.setSeconds(0);t.setMilliseconds(0)}else if(this.scale==i.SCALE.MINUTE){switch(this.step){case 15:case 10:t.setMinutes(Math.round(t.getMinutes()/5)*5);t.setSeconds(0);break;case 5:t.setSeconds(Math.round(t.getSeconds()/60)*60);break;default:t.setSeconds(Math.round(t.getSeconds()/30)*30)}t.setMilliseconds(0)}else if(this.scale==i.SCALE.SECOND)switch(this.step){case 15:case 10:t.setSeconds(Math.round(t.getSeconds()/5)*5);t.setMilliseconds(0);break;case 5:t.setMilliseconds(Math.round(t.getMilliseconds()/1e3)*1e3);break;default:t.setMilliseconds(Math.round(t.getMilliseconds()/500)*500)}else this.scale==i.SCALE.MILLISECOND&&(r=this.step>5?this.step/2:1,t.setMilliseconds(Math.round(t.getMilliseconds()/r)*r));return t};i.prototype.isMajor=function(){switch(this.scale){case i.SCALE.MILLISECOND:return this.current.getMilliseconds()==0;case i.SCALE.SECOND:return this.current.getSeconds()==0;case i.SCALE.MINUTE:return this.current.getHours()==0&&this.current.getMinutes()==0;case i.SCALE.HOUR:return this.current.getHours()==0;case i.SCALE.WEEKDAY:case i.SCALE.DAY:return this.current.getDate()==1;case i.SCALE.MONTH:return this.current.getMonth()==0;case i.SCALE.YEAR:return!1;default:return!1}};i.prototype.getLabelMinor=function(n){n==undefined&&(n=this.current);switch(this.scale){case i.SCALE.MILLISECOND:return r(n).format("SSS");case i.SCALE.SECOND:return r(n).format("s");case i.SCALE.MINUTE:return r(n).format("HH:mm");case i.SCALE.HOUR:return r(n).format("HH:mm");case i.SCALE.WEEKDAY:return r(n).format("ddd D");case i.SCALE.DAY:return r(n).format("D");case i.SCALE.MONTH:return r(n).format("MMM");case i.SCALE.YEAR:return r(n).format("YYYY");default:return""}};i.prototype.getLabelMajor=function(n){n==undefined&&(n=this.current);switch(this.scale){case i.SCALE.MILLISECOND:return r(n).format("HH:mm:ss");case i.SCALE.SECOND:return r(n).format("D MMMM HH:mm");case i.SCALE.MINUTE:case i.SCALE.HOUR:return r(n).format("ddd D MMMM");case i.SCALE.WEEKDAY:case i.SCALE.DAY:return r(n).format("MMMM YYYY");case i.SCALE.MONTH:return r(n).format("YYYY");case i.SCALE.YEAR:return"";default:return""}};t.exports=i},{"../module/moment":9}],15:[function(n,t){function i(n,t,u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null};this.options=r.deepExtend({},this.defaultOptions);this._create(n);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},util:{snap:null,toScreen:f._toScreen.bind(f),toGlobalScreen:f._toGlobalScreen.bind(f),toTime:f._toTime.bind(f),toGlobalTime:f._toGlobalTime.bind(f)}};this.range=new e(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new s(this.body);this.components.push(this.timeAxis);this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis);this.currentTime=new h(this.body);this.components.push(this.currentTime);this.customTime=new c(this.body);this.components.push(this.customTime);this.itemSet=new l(this.body);this.components.push(this.itemSet);this.itemsData=null;this.groupsData=null;u&&this.setOptions(u);t?this.setItems(t):this.redraw()}var a=n("emitter-component"),v=n("../module/hammer"),r=n("../util"),u=n("../DataSet"),f=n("../DataView"),e=n("./Range"),o=n("./Core"),s=n("./component/TimeAxis"),h=n("./component/CurrentTime"),c=n("./component/CustomTime"),l=n("./component/ItemSet");i.prototype=new o;i.prototype.setItems=function(n){var e=this.itemsData==null,t,i,r;t=n?n instanceof u||n instanceof f?n:new u(n,{type:{start:"Date",end:"Date"}}):null;this.itemsData=t;this.itemSet&&this.itemSet.setItems(t);e&&(this.options.start!=undefined||this.options.end!=undefined?(i=this.options.start!=undefined?this.options.start:null,r=this.options.end!=undefined?this.options.end:null,this.setWindow(i,r,{animate:!1})):this.fit({animate:!1}))};i.prototype.setGroups=function(n){var t;t=n?n instanceof u||n instanceof f?n:new u(n):null;this.groupsData=t;this.itemSet.setGroups(t)};i.prototype.setSelection=function(n,t){this.itemSet&&this.itemSet.setSelection(n);t&&t.focus&&this.focus(n,t)};i.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]};i.prototype.focus=function(n,t){if(this.itemsData&&n!=undefined){var e=Array.isArray(n)?n:[n],o=this.itemsData.getDataSet().get(e,{type:{start:"Date",end:"Date"}}),i=null,r=null;if(o.forEach(function(n){var t=n.start.valueOf(),u="end"in n?n.end.valueOf():n.start.valueOf();(i===null||t<i)&&(i=t);(r===null||u>r)&&(r=u)}),i!==null&&r!==null){var u=(i+r)/2,f=Math.max(this.range.end-this.range.start,(r-i)*1.1),s=t&&t.animate!==undefined?t.animate:!0;this.range.setRange(u-f/2,u+f/2,s)}}};i.prototype.getItemRange=function(){var t=this.itemsData.getDataSet(),u=null,n=null,f,e,i;return t&&(f=t.min("start"),u=f?r.convert(f.start,"Date").valueOf():null,e=t.max("start"),e&&(n=r.convert(e.start,"Date").valueOf()),i=t.max("end"),i&&(n=n==null?r.convert(i.end,"Date").valueOf():Math.max(n,r.convert(i.end,"Date").valueOf()))),{min:u!=null?new Date(u):null,max:n!=null?new Date(n):null}};t.exports=i},{"../DataSet":5,"../DataView":6,"../module/hammer":8,"../util":28,"./Core":11,"./Range":12,"./component/CurrentTime":17,"./component/CustomTime":18,"./component/ItemSet":20,"./component/TimeAxis":21,"emitter-component":1}],16:[function(n,t){function i(){this.options=null;this.props=null}i.prototype.setOptions=function(n){n&&util.extend(this.options,n)};i.prototype.redraw=function(){return!1};i.prototype.destroy=function(){};i.prototype._isResized=function(){var n=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,n};t.exports=i},{}],17:[function(n,t){function i(n,t){this.body=n;this.defaultOptions={showCurrentTime:!0,locales:e,locale:"en"};this.options=r.extend({},this.defaultOptions);this.offset=0;this._create();this.setOptions(t)}var r=n("../../util"),u=n("./Component"),f=n("../../module/moment"),e=n("../locales");i.prototype=new u;i.prototype._create=function(){var n=document.createElement("div");n.className="currenttime";n.style.position="absolute";n.style.top="0px";n.style.height="100%";this.bar=n};i.prototype.destroy=function(){this.options.showCurrentTime=!1;this.redraw();this.body=null};i.prototype.setOptions=function(n){n&&r.selectiveExtend(["showCurrentTime","locale","locales"],this.options,n)};i.prototype.redraw=function(){var t;if(this.options.showCurrentTime){t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var i=new Date((new Date).valueOf()+this.offset),u=this.body.util.toScreen(i),r=this.options.locales[this.options.locale],n=r.current+" "+r.time+": "+f(i).format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1);this.bar.style.left=u+"px";this.bar.title=n}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1};i.prototype.start=function(){function t(){n.stop();var r=n.body.range.conversion(n.body.domProps.center.width).scale,i=1/r/10;i<30&&(i=30);i>1e3&&(i=1e3);n.redraw();n.currentTimeTimer=setTimeout(t,i)}var n=this;t()};i.prototype.stop=function(){this.currentTimeTimer!==undefined&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)};i.prototype.setCurrentTime=function(n){var t=r.convert(n,"Date").valueOf(),i=(new Date).valueOf();this.offset=t-i;this.redraw()};i.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)};t.exports=i},{"../../module/moment":9,"../../util":28,"../locales":27,"./Component":16}],18:[function(n,t){function i(n,t){this.body=n;this.defaultOptions={showCustomTime:!1,locales:o,locale:"en"};this.options=r.extend({},this.defaultOptions);this.customTime=new Date;this.eventParams={};this._create();this.setOptions(t)}var u=n("../../module/hammer"),r=n("../../util"),f=n("./Component"),e=n("../../module/moment"),o=n("../locales");i.prototype=new f;i.prototype.setOptions=function(n){n&&r.selectiveExtend(["showCustomTime","locale","locales"],this.options,n)};i.prototype._create=function(){var n=document.createElement("div"),t;n.className="customtime";n.style.position="absolute";n.style.top="0px";n.style.height="100%";this.bar=n;t=document.createElement("div");t.style.position="relative";t.style.top="0px";t.style.left="-10px";t.style.height="100%";t.style.width="20px";n.appendChild(t);this.hammer=u(n,{prevent_default:!0});this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this))};i.prototype.destroy=function(){this.options.showCustomTime=!1;this.redraw();this.hammer.enable(!1);this.hammer=null;this.body=null};i.prototype.redraw=function(){var t;if(this.options.showCustomTime){t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var i=this.body.util.toScreen(this.customTime),r=this.options.locales[this.options.locale],n=r.time+": "+e(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1);this.bar.style.left=i+"px";this.bar.title=n}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);return!1};i.prototype.setCustomTime=function(n){this.customTime=r.convert(n,"Date");this.redraw()};i.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())};i.prototype._onDragStart=function(n){this.eventParams.dragging=!0;this.eventParams.customTime=this.customTime;n.stopPropagation();n.preventDefault()};i.prototype._onDrag=function(n){if(this.eventParams.dragging){var t=n.gesture.deltaX,i=this.body.util.toScreen(this.eventParams.customTime)+t,r=this.body.util.toTime(i);this.setCustomTime(r);this.body.emitter.emit("timechange",{time:new Date(this.customTime.valueOf())});n.stopPropagation();n.preventDefault()}};i.prototype._onDragEnd=function(n){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{time:new Date(this.customTime.valueOf())}),n.stopPropagation(),n.preventDefault())};t.exports=i},{"../../module/hammer":8,"../../module/moment":9,"../../util":28,"../locales":27,"./Component":16}],19:[function(n,t){function r(n,t,i){this.groupId=n;this.itemSet=i;this.dom={};this.props={label:{width:0,height:0}};this.className=null;this.items={};this.visibleItems=[];this.orderedItems={byStart:[],byEnd:[]};this._create();this.setData(t)}var i=n("../../util"),u=n("../Stack"),f=n("./item/RangeItem");r.prototype._create=function(){var i=document.createElement("div"),n,t;i.className="vlabel";this.dom.label=i;n=document.createElement("div");n.className="inner";i.appendChild(n);this.dom.inner=n;t=document.createElement("div");t.className="group";t["timeline-group"]=this;this.dom.foreground=t;this.dom.background=document.createElement("div");this.dom.background.className="group";this.dom.axis=document.createElement("div");this.dom.axis.className="group";this.dom.marker=document.createElement("div");this.dom.marker.style.visibility="hidden";this.dom.marker.innerHTML="?";this.dom.background.appendChild(this.dom.marker)};r.prototype.setData=function(n){var r=n&&n.content,t;r instanceof Element?this.dom.inner.appendChild(r):this.dom.inner.innerHTML=r!==undefined&&r!==null?r:this.groupId||"";this.dom.label.title=n&&n.title||"";this.dom.inner.firstChild?i.removeClassName(this.dom.inner,"hidden"):i.addClassName(this.dom.inner,"hidden");t=n&&n.className||null;t!=this.className&&(this.className&&(i.removeClassName(this.dom.label,this.className),i.removeClassName(this.dom.foreground,this.className),i.removeClassName(this.dom.background,this.className),i.removeClassName(this.dom.axis,this.className)),i.addClassName(this.dom.label,t),i.addClassName(this.dom.foreground,t),i.addClassName(this.dom.background,t),i.addClassName(this.dom.axis,t),this.className=t)};r.prototype.getLabelWidth=function(){return this.props.label.width};r.prototype.redraw=function(n,t,r){var e=!1,a,f,o,s,h,v,c,l,y,p;for(this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,n),a=this.dom.marker.clientHeight,a!=this.lastMarkerHeight&&(this.lastMarkerHeight=a,i.forEach(this.items,function(n){n.dirty=!0;n.displayed&&n.redraw()}),r=!0),this.itemSet.options.stack?u.stack(this.visibleItems,t,r):u.nostack(this.visibleItems,t),o=this.visibleItems,o.length?(s=o[0].top,h=o[0].top+o[0].height,i.forEach(o,function(n){s=Math.min(s,n.top);h=Math.max(h,n.top+n.height)}),s>t.axis&&(v=s-t.axis,h-=v,i.forEach(o,function(n){n.top-=v})),f=h+t.item.vertical/2):f=t.axis+t.item.vertical,f=Math.max(f,this.props.label.height),c=this.dom.foreground,this.top=c.offsetTop,this.left=c.offsetLeft,this.width=c.offsetWidth,e=i.updateProperty(this,"height",f)||e,e=i.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||e,e=i.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||e,this.dom.background.style.height=f+"px",this.dom.foreground.style.height=f+"px",this.dom.label.style.height=f+"px",l=0,y=this.visibleItems.length;l<y;l++)p=this.visibleItems[l],p.repositionY();return e};r.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label);this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground);this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background);this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)};r.prototype.hide=function(){var r=this.dom.label,n,t,i;r.parentNode&&r.parentNode.removeChild(r);n=this.dom.foreground;n.parentNode&&n.parentNode.removeChild(n);t=this.dom.background;t.parentNode&&t.parentNode.removeChild(t);i=this.dom.axis;i.parentNode&&i.parentNode.removeChild(i)};r.prototype.add=function(n){if(this.items[n.id]=n,n.setParent(this),this.visibleItems.indexOf(n)==-1){var t=this.itemSet.body.range;this._checkIfVisible(n,this.visibleItems,t)}};r.prototype.remove=function(n){delete this.items[n.id];n.setParent(this.itemSet);var t=this.visibleItems.indexOf(n);t!=-1&&this.visibleItems.splice(t,1)};r.prototype.removeFromDataSet=function(n){this.itemSet.removeItem(n.id)};r.prototype.order=function(){var n=i.toArray(this.items);this.orderedItems.byStart=n;this.orderedItems.byEnd=this._constructByEndArray(n);u.orderByStart(this.orderedItems.byStart);u.orderByEnd(this.orderedItems.byEnd)};r.prototype._constructByEndArray=function(n){for(var i=[],t=0;t<n.length;t++)n[t]instanceof f&&i.push(n[t]);return i};r.prototype._updateVisibleItems=function(n,t,r){var e,f=[],u,o;if(t.length>0)for(u=0;u<t.length;u++)this._checkIfVisible(t[u],f,r);if(e=f.length==0?i.binarySearch(n.byStart,r,"data","start"):n.byStart.indexOf(f[0]),o=i.binarySearch(n.byEnd,r,"data","end"),e!=-1){for(u=e;u>=0;u--)if(this._checkIfInvisible(n.byStart[u],f,r))break;for(u=e+1;u<n.byStart.length;u++)if(this._checkIfInvisible(n.byStart[u],f,r))break}if(o!=-1){for(u=o;u>=0;u--)if(this._checkIfInvisible(n.byEnd[u],f,r))break;for(u=o+1;u<n.byEnd.length;u++)if(this._checkIfInvisible(n.byEnd[u],f,r))break}return f};r.prototype._checkIfInvisible=function(n,t,i){return n.isVisible(i)?(n.displayed||n.show(),n.repositionX(),t.indexOf(n)==-1&&t.push(n),!1):(n.displayed&&n.hide(),!0)};r.prototype._checkIfVisible=function(n,t,i){n.isVisible(i)?(n.displayed||n.show(),n.repositionX(),t.push(n)):n.displayed&&n.hide()};t.exports=r},{"../../util":28,"../Stack":13,"./item/RangeItem":26}],20:[function(n,t){function i(n,t){this.body=n;this.defaultOptions={type:null,orientation:"bottom",align:"auto",stack:!0,groupOrder:null,selectable:!0,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},onAdd:function(n,t){t(n)},onUpdate:function(n,t){t(n)},onMove:function(n,t){t(n)},onRemove:function(n,t){t(n)},onMoving:function(n,t){t(n)},margin:{item:{horizontal:10,vertical:10},axis:20},padding:5};this.options=r.extend({},this.defaultOptions);this.itemOptions={type:{start:"Date",end:"Date"}};this.conversion={toScreen:n.util.toScreen,toTime:n.util.toTime};this.dom={};this.props={};this.hammer=null;var i=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function(n,t){i._onAdd(t.items)},update:function(n,t){i._onUpdate(t.items)},remove:function(n,t){i._onRemove(t.items)}};this.groupListeners={add:function(n,t){i._onAddGroups(t.items)},update:function(n,t){i._onUpdateGroups(t.items)},remove:function(n,t){i._onRemoveGroups(t.items)}};this.items={};this.groups={};this.groupIds=[];this.selection=[];this.stackDirty=!0;this.touchParams={};this._create();this.setOptions(t)}var h=n("../../module/hammer"),r=n("../../util"),f=n("../../DataSet"),e=n("../../DataView"),c=n("./Component"),o=n("./Group"),l=n("./item/BoxItem"),a=n("./item/PointItem"),s=n("./item/RangeItem"),v=n("./item/BackgroundItem"),u="__ungrouped__";i.prototype=new c;i.types={background:v,box:l,range:s,point:a};i.prototype._create=function(){var n=document.createElement("div"),t,i,r,u;n.className="itemset";n["timeline-itemset"]=this;this.dom.frame=n;t=document.createElement("div");t.className="background";n.appendChild(t);this.dom.background=t;i=document.createElement("div");i.className="foreground";n.appendChild(i);this.dom.foreground=i;r=document.createElement("div");r.className="axis";this.dom.axis=r;u=document.createElement("div");u.className="labelset";this.dom.labelSet=u;this._updateUngrouped();this.hammer=h(this.body.dom.centerContainer,{prevent_default:!0});this.hammer.on("touch",this._onTouch.bind(this));this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this));this.hammer.on("tap",this._onSelectItem.bind(this));this.hammer.on("hold",this._onMultiSelectItem.bind(this));this.hammer.on("doubletap",this._onAddItem.bind(this));this.show()};i.prototype.setOptions=function(n){var t,i;n&&(t=["type","align","orientation","padding","stack","selectable","groupOrder","dataAttributes","template"],r.selectiveExtend(t,this.options,n),"margin"in n&&(typeof n.margin=="number"?(this.options.margin.axis=n.margin,this.options.margin.item.horizontal=n.margin,this.options.margin.item.vertical=n.margin):typeof n.margin=="object"&&(r.selectiveExtend(["axis"],this.options.margin,n.margin),"item"in n.margin&&(typeof n.margin.item=="number"?(this.options.margin.item.horizontal=n.margin.item,this.options.margin.item.vertical=n.margin.item):typeof n.margin.item=="object"&&r.selectiveExtend(["horizontal","vertical"],this.options.margin.item,n.margin.item)))),"editable"in n&&(typeof n.editable=="boolean"?(this.options.editable.updateTime=n.editable,this.options.editable.updateGroup=n.editable,this.options.editable.add=n.editable,this.options.editable.remove=n.editable):typeof n.editable=="object"&&r.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,n.editable)),i=function(t){var i=n[t];if(i){if(!(i instanceof Function))throw new Error("option "+t+" must be a function "+t+"(item, callback)");this.options[t]=i}}.bind(this),["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(i),this.markDirty())};i.prototype.markDirty=function(){this.groupIds=[];this.stackDirty=!0};i.prototype.destroy=function(){this.hide();this.setItems(null);this.setGroups(null);this.hammer=null;this.body=null;this.conversion=null};i.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis);this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)};i.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame);this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis);this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)};i.prototype.setSelection=function(n){var t,u,r,i;for(n==undefined&&(n=[]),Array.isArray(n)||(n=[n]),t=0,u=this.selection.length;t<u;t++)r=this.selection[t],i=this.items[r],i&&i.unselect();for(this.selection=[],t=0,u=n.length;t<u;t++)r=n[t],i=this.items[r],i&&(this.selection.push(r),i.select())};i.prototype.getSelection=function(){return this.selection.concat([])};i.prototype.getVisibleItems=function(){var u=this.body.range.getRange(),o=this.body.util.toScreen(u.start),s=this.body.util.toScreen(u.end),f=[],i,e,r,t,n;for(i in this.groups)if(this.groups.hasOwnProperty(i))for(e=this.groups[i],r=e.visibleItems,t=0;t<r.length;t++)n=r[t],n.left<s&&n.left+n.width>o&&f.push(n.id);return f};i.prototype._deselect=function(n){for(var i=this.selection,t=0,r=i.length;t<r;t++)if(i[t]==n){i.splice(t,1);break}};i.prototype.redraw=function(){var n=this.options.margin,u=this.body.range,s=r.option.asSize,f=this.options,c=f.orientation,t=!1,e=this.dom.frame,l=f.editable.updateTime||f.editable.updateGroup,o,h;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top;this.props.left=this.body.domProps.left.width+this.body.domProps.border.left;e.className="itemset"+(l?" editable":"");t=this._orderGroups()||t;o=u.end-u.start;h=o!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;h&&(this.stackDirty=!0);this.lastVisibleInterval=o;this.props.lastWidth=this.props.width;var a=this.stackDirty,v=this._firstGroup(),y={item:n.item,axis:n.axis},p={item:n.item,axis:n.item.vertical/2},i=0,w=n.axis+n.item.vertical;return r.forEach(this.groups,function(n){var r=n==v?y:p,f=n.redraw(u,r,a);t=f||t;i+=n.height}),i=Math.max(i,w),this.stackDirty=!1,e.style.height=s(i),this.props.width=e.offsetWidth,this.props.height=i,this.dom.axis.style.top=s(c=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.dom.axis.style.left="0",t=this._isResized()||t};i.prototype._firstGroup=function(){var n=this.options.orientation=="top"?0:this.groupIds.length-1,t=this.groupIds[n],i=this.groups[t]||this.groups[u];return i||null};i.prototype._updateUngrouped=function(){var n=this.groups[u],i,r,t;if(this.groupsData)n&&(n.hide(),delete this.groups[u]);else if(!n){i=null;r=null;n=new o(i,r,this);this.groups[u]=n;for(t in this.items)this.items.hasOwnProperty(t)&&n.add(this.items[t]);n.show()}};i.prototype.getLabelSet=function(){return this.dom.labelSet};i.prototype.setItems=function(n){var o=this,t,i=this.itemsData,u;if(n)if(n instanceof f||n instanceof e)this.itemsData=n;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.itemsData=null;i&&(r.forEach(this.itemListeners,function(n,t){i.off(t,n)}),t=i.getIds(),this._onRemove(t));this.itemsData&&(u=this.id,r.forEach(this.itemListeners,function(n,t){o.itemsData.on(t,n,u)}),t=this.itemsData.getIds(),this._onAdd(t),this._updateUngrouped())};i.prototype.getItems=function(){return this.itemsData};i.prototype.setGroups=function(n){var i=this,t,u;if(this.groupsData&&(r.forEach(this.groupListeners,function(n,t){i.groupsData.unsubscribe(t,n)}),t=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(t)),n)if(n instanceof f||n instanceof e)this.groupsData=n;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.groupsData=null;this.groupsData&&(u=this.id,r.forEach(this.groupListeners,function(n,t){i.groupsData.on(t,n,u)}),t=this.groupsData.getIds(),this._onAddGroups(t));this._updateUngrouped();this._order();this.body.emitter.emit("change")};i.prototype.getGroups=function(){return this.groupsData};i.prototype.removeItem=function(n){var t=this.itemsData.get(n),i=this.itemsData.getDataSet();if(t)this.options.onRemove(t,function(t){t&&i.remove(n)})};i.prototype._onUpdate=function(n){var t=this;n.forEach(function(n){var u=t.itemsData.get(n,t.itemOptions),r=t.items[n],e=u.type||t.options.type||(u.end?"range":"box"),f=i.types[e];if(r&&(f&&r instanceof f?t._updateItem(r,u):(t._removeItem(r),r=null)),!r)if(f)r=new f(u,t.conversion,t.options),r.id=n,t._addItem(r);else if(e=="rangeoverflow")throw new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis.timeline .item.range .content {overflow: visible;}');else throw new TypeError('Unknown item type "'+e+'"');});this._order();this.stackDirty=!0;this.body.emitter.emit("change")};i.prototype._onAdd=i.prototype._onUpdate;i.prototype._onRemove=function(n){var t=0,i=this;n.forEach(function(n){var r=i.items[n];r&&(t++,i._removeItem(r))});t&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change"))};i.prototype._order=function(){r.forEach(this.groups,function(n){n.order()})};i.prototype._onUpdateGroups=function(n){this._onAddGroups(n)};i.prototype._onAddGroups=function(n){var t=this;n.forEach(function(n){var s=t.groupsData.get(n),i=t.groups[n],h,f,e;if(i)i.setData(s);else{if(n==u)throw new Error("Illegal group id. "+n+" is a reserved id.");h=Object.create(t.options);r.extend(h,{height:null});i=new o(n,s,t);t.groups[n]=i;for(f in t.items)t.items.hasOwnProperty(f)&&(e=t.items[f],e.data.group==n&&i.add(e));i.order();i.show()}});this.body.emitter.emit("change")};i.prototype._onRemoveGroups=function(n){var t=this.groups;n.forEach(function(n){var i=t[n];i&&(i.hide(),delete t[n])});this.markDirty();this.body.emitter.emit("change")};i.prototype._orderGroups=function(){var n,t,i;return this.groupsData?(n=this.groupsData.getIds({order:this.options.groupOrder}),t=!r.equalArray(n,this.groupIds),t&&(i=this.groups,n.forEach(function(n){i[n].hide()}),n.forEach(function(n){i[n].show()}),this.groupIds=n),t):!1};i.prototype._addItem=function(n){this.items[n.id]=n;var i=this.groupsData?n.data.group:u,t=this.groups[i];t&&t.add(n)};i.prototype._updateItem=function(n,t){var f=n.data.group,i,e,r;n.setData(t);f!=n.data.group&&(i=this.groups[f],i&&i.remove(n),e=this.groupsData?n.data.group:u,r=this.groups[e],r&&r.add(n))};i.prototype._removeItem=function(n){var t,r,i;n.hide();delete this.items[n.id];t=this.selection.indexOf(n.id);t!=-1&&this.selection.splice(t,1);r=this.groupsData?n.data.group:u;i=this.groups[r];i&&i.remove(n)};i.prototype._constructByEndArray=function(n){for(var i=[],t=0;t<n.length;t++)n[t]instanceof s&&i.push(n[t]);return i};i.prototype._onTouch=function(n){this.touchParams.item=i.itemFromTarget(n)};i.prototype._onDragStart=function(n){var t,i,r,u,f;(this.options.editable.updateTime||this.options.editable.updateGroup)&&(t=this.touchParams.item||null,i=this,t&&t.selected&&(u=n.target.dragLeftItem,f=n.target.dragRightItem,u?(r={item:u},i.options.editable.updateTime&&(r.start=t.data.start.valueOf()),i.options.editable.updateGroup&&"group"in t.data&&(r.group=t.data.group),this.touchParams.itemProps=[r]):f?(r={item:f},i.options.editable.updateTime&&(r.end=t.data.end.valueOf()),i.options.editable.updateGroup&&"group"in t.data&&(r.group=t.data.group),this.touchParams.itemProps=[r]):this.touchParams.itemProps=this.getSelection().map(function(n){var t=i.items[n],r={item:t};return i.options.editable.updateTime&&("start"in t.data&&(r.start=t.data.start.valueOf()),"end"in t.data&&(r.end=t.data.end.valueOf())),i.options.editable.updateGroup&&"group"in t.data&&(r.group=t.data.group),r}),n.stopPropagation()))};i.prototype._onDrag=function(n){if(this.touchParams.itemProps){var u=this,f=this.body.range,t=this.body.util.snap||null,o=n.gesture.deltaX,s=this.props.width/(f.end-f.start),e=o/s;this.touchParams.itemProps.forEach(function(f){var o={},s,h,c,l;"start"in f&&(s=new Date(f.start+e),o.start=t?t(s):s);"end"in f&&(h=new Date(f.end+e),o.end=t?t(h):h);"group"in f&&(c=i.groupFromTarget(n),o.group=c&&c.groupId);l=r.extend({},f.item.data,o);u.options.onMoving(l,function(n){n&&u._updateItemProps(f.item,n)})});this.stackDirty=!0;this.body.emitter.emit("change");n.stopPropagation()}};i.prototype._updateItemProps=function(n,t){"start"in t&&(n.data.start=t.start);"end"in t&&(n.data.end=t.end);"group"in t&&n.data.group!=t.group&&this._moveToGroup(n,t.group)};i.prototype._moveToGroup=function(n,t){var i=this.groups[t],r;i&&i.groupId!=n.data.group&&(r=n.parent,r.remove(n),r.order(),i.add(n),i.order(),n.data.group=i.groupId)};i.prototype._onDragEnd=function(n){if(this.touchParams.itemProps){var u=[],t=this,i=this.itemsData.getDataSet(),f=this.touchParams.itemProps;this.touchParams.itemProps=null;f.forEach(function(n){var o=n.item.id,e=t.itemsData.get(o,t.itemOptions),f=!1;if("start"in n.item.data&&(f=n.start!=n.item.data.start.valueOf(),e.start=r.convert(n.item.data.start,i._options.type&&i._options.type.start||"Date")),"end"in n.item.data&&(f=f||n.end!=n.item.data.end.valueOf(),e.end=r.convert(n.item.data.end,i._options.type&&i._options.type.end||"Date")),"group"in n.item.data&&(f=f||n.group!=n.item.data.group,e.group=n.item.data.group),f)t.options.onMove(e,function(r){r?(r[i._fieldId]=o,u.push(r)):(t._updateItemProps(n.item,n),t.stackDirty=!0,t.body.emitter.emit("change"))})});u.length&&i.update(u);n.stopPropagation()}};i.prototype._onSelectItem=function(n){var t,r,f;if(this.options.selectable){if(t=n.gesture.srcEvent&&n.gesture.srcEvent.ctrlKey,r=n.gesture.srcEvent&&n.gesture.srcEvent.shiftKey,t||r){this._onMultiSelectItem(n);return}var e=this.getSelection(),u=i.itemFromTarget(n),o=u?[u.id]:[];this.setSelection(o);f=this.getSelection();(f.length>0||e.length>0)&&this.body.emitter.emit("select",{items:this.getSelection()});n.stopPropagation()}};i.prototype._onAddItem=function(n){var h,e,o;if(this.options.selectable&&this.options.editable.add){var f=this,t=this.body.util.snap||null,s=i.itemFromTarget(n);if(s){h=f.itemsData.get(s.id);this.options.onUpdate(h,function(n){n&&f.itemsData.update(n)})}else{var a=r.getAbsoluteLeft(this.dom.frame),c=n.gesture.center.pageX-a,l=this.body.util.toTime(c),u={start:t?t(l):l,content:"new item"};this.options.type==="range"&&(e=this.body.util.toTime(c+this.props.width/5),u.end=t?t(e):e);u[this.itemsData._fieldId]=r.randomUUID();o=i.groupFromTarget(n);o&&(u.group=o.groupId);this.options.onAdd(u,function(n){n&&f.itemsData.add(n)})}}};i.prototype._onMultiSelectItem=function(n){var t,r,u;this.options.selectable&&(r=i.itemFromTarget(n),r&&(t=this.getSelection(),u=t.indexOf(r.id),u==-1?t.push(r.id):t.splice(u,1),this.setSelection(t),this.body.emitter.emit("select",{items:this.getSelection()}),n.stopPropagation()))};i.itemFromTarget=function(n){for(var t=n.target;t;){if(t.hasOwnProperty("timeline-item"))return t["timeline-item"];t=t.parentNode}return null};i.groupFromTarget=function(n){for(var t=n.target;t;){if(t.hasOwnProperty("timeline-group"))return t["timeline-group"];t=t.parentNode}return null};i.itemSetFromTarget=function(n){for(var t=n.target;t;){if(t.hasOwnProperty("timeline-itemset"))return t["timeline-itemset"];t=t.parentNode}return null};t.exports=i},{"../../DataSet":5,"../../DataView":6,"../../module/hammer":8,"../../util":28,"./Component":16,"./Group":19,"./item/BackgroundItem":22,"./item/BoxItem":23,"./item/PointItem":25,"./item/RangeItem":26}],21:[function(n,t){function i(n,t){this.dom={foreground:null,majorLines:[],majorTexts:[],minorLines:[],minorTexts:[],redundant:{majorLines:[],majorTexts:[],minorLines:[],minorTexts:[]}};this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};this.defaultOptions={orientation:"bottom",showMinorLabels:!0,showMajorLabels:!0};this.options=r.extend({},this.defaultOptions);this.body=n;this._create();this.setOptions(t)}var r=n("../../util"),f=n("./Component"),e=n("../TimeStep"),u=n("../../module/moment");i.prototype=new f;i.prototype.setOptions=function(n){n&&(r.selectiveExtend(["orientation","showMinorLabels","showMajorLabels"],this.options,n),"locale"in n&&(typeof u.locale=="function"?u.locale(n.locale):u.lang(n.locale)))};i.prototype._create=function(){this.dom.foreground=document.createElement("div");this.dom.background=document.createElement("div");this.dom.foreground.className="timeaxis foreground";this.dom.background.className="timeaxis background"};i.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground);this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background);this.body=null};i.prototype.redraw=function(){var e=this.options,n=this.props,t=this.dom.foreground,i=this.dom.background,r=e.orientation=="top"?this.body.dom.top:this.body.dom.bottom,o=t.parentNode!==r,u,f;this._calculateCharSize();var c=this.options.orientation,s=this.options.showMinorLabels,h=this.options.showMajorLabels;return n.minorLabelHeight=s?n.minorCharHeight:0,n.majorLabelHeight=h?n.majorCharHeight:0,n.height=n.minorLabelHeight+n.majorLabelHeight,n.width=t.offsetWidth,n.minorLineHeight=this.body.domProps.root.height-n.majorLabelHeight-(e.orientation=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),n.minorLineWidth=1,n.majorLineHeight=n.minorLineHeight+n.majorLabelHeight,n.majorLineWidth=1,u=t.nextSibling,f=i.nextSibling,t.parentNode&&t.parentNode.removeChild(t),i.parentNode&&i.parentNode.removeChild(i),t.style.height=this.props.height+"px",this._repaintLabels(),u?r.insertBefore(t,u):r.appendChild(t),f?this.body.dom.backgroundVertical.insertBefore(i,f):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o};i.prototype._repaintLabels=function(){var u=this.options.orientation,h=r.convert(this.body.range.start,"Number"),c=r.convert(this.body.range.end,"Number"),l=this.body.util.toTime((this.props.minorCharWidth||10)*7).valueOf()-this.body.util.toTime(0).valueOf(),t=new e(new Date(h),new Date(c),l),n,f,o;for(this.step=t,n=this.dom,n.redundant.majorLines=n.majorLines,n.redundant.majorTexts=n.majorTexts,n.redundant.minorLines=n.minorLines,n.redundant.minorTexts=n.minorTexts,n.majorLines=[],n.majorTexts=[],n.minorLines=[],n.minorTexts=[],t.first(),f=undefined,o=0;t.hasNext()&&o<1e3;){o++;var a=t.getCurrent(),i=this.body.util.toScreen(a),v=t.isMajor();this.options.showMinorLabels&&this._repaintMinorText(i,t.getLabelMinor(),u);v&&this.options.showMajorLabels?(i>0&&(f==undefined&&(f=i),this._repaintMajorText(i,t.getLabelMajor(),u)),this._repaintMajorLine(i,u)):this._repaintMinorLine(i,u);t.next()}if(this.options.showMajorLabels){var y=this.body.util.toTime(0),s=t.getLabelMajor(y),p=s.length*(this.props.majorCharWidth||10)+10;(f==undefined||p<f)&&this._repaintMajorText(0,s,u)}r.forEach(this.dom.redundant,function(n){while(n.length){var t=n.pop();t&&t.parentNode&&t.parentNode.removeChild(t)}})};i.prototype._repaintMinorText=function(n,t,i){var r=this.dom.redundant.minorTexts.shift(),u;r||(u=document.createTextNode(""),r=document.createElement("div"),r.appendChild(u),r.className="text minor",this.dom.foreground.appendChild(r));this.dom.minorTexts.push(r);r.childNodes[0].nodeValue=t;r.style.top=i=="top"?this.props.majorLabelHeight+"px":"0";r.style.left=n+"px"};i.prototype._repaintMajorText=function(n,t,i){var r=this.dom.redundant.majorTexts.shift(),u;r||(u=document.createTextNode(t),r=document.createElement("div"),r.className="text major",r.appendChild(u),this.dom.foreground.appendChild(r));this.dom.majorTexts.push(r);r.childNodes[0].nodeValue=t;r.style.top=i=="top"?"0":this.props.minorLabelHeight+"px";r.style.left=n+"px"};i.prototype._repaintMinorLine=function(n,t){var i=this.dom.redundant.minorLines.shift(),r;i||(i=document.createElement("div"),i.className="grid vertical minor",this.dom.background.appendChild(i));this.dom.minorLines.push(i);r=this.props;i.style.top=t=="top"?r.majorLabelHeight+"px":this.body.domProps.top.height+"px";i.style.height=r.minorLineHeight+"px";i.style.left=n-r.minorLineWidth/2+"px"};i.prototype._repaintMajorLine=function(n,t){var i=this.dom.redundant.majorLines.shift(),r;i||(i=document.createElement("DIV"),i.className="grid vertical major",this.dom.background.appendChild(i));this.dom.majorLines.push(i);r=this.props;i.style.top=t=="top"?"0":this.body.domProps.top.height+"px";i.style.left=n-r.majorLineWidth/2+"px";i.style.height=r.majorLineHeight+"px"};i.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="text minor measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor));this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight;this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth;this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="text minor measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor));this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight;this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};i.prototype.snap=function(n){return this.step.snap(n)};t.exports=i},{"../../module/moment":9,"../../util":28,"../TimeStep":14,"./Component":16}],22:[function(n,t){function i(n,t,i){if(this.props={content:{width:0}},this.overflow=!1,n){if(n.start==undefined)throw new Error('Property "start" missing in item '+n.id);if(n.end==undefined)throw new Error('Property "end" missing in item '+n.id);}u.call(this,n,t,i)}var f=n("../../../module/hammer"),u=n("./Item"),r=n("./RangeItem");i.prototype=new u(null,null,null);i.prototype.baseClassName="item background";i.prototype.isVisible=function(n){return this.data.start<n.end&&this.data.end>n.start};i.prototype.redraw=function(){var n=this.dom,t,i;if(n||(this.dom={},n=this.dom,n.box=document.createElement("div"),n.content=document.createElement("div"),n.content.className="content",n.box.appendChild(n.content),n.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!n.box.parentNode){if(t=this.parent.dom.background,!t)throw new Error("Cannot redraw time axis: parent has no background container element");t.appendChild(n.box)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),i=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":""),n.box.className=this.baseClassName+i,this.overflow=window.getComputedStyle(n.content).overflow!=="hidden",this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1)};i.prototype.show=r.prototype.show;i.prototype.hide=r.prototype.hide;i.prototype.repositionX=r.prototype.repositionX;i.prototype.repositionY=function(){var n=this.options.orientation==="top";this.dom.content.style.top=n?"":"0";this.dom.content.style.bottom=n?"0":""};t.exports=i},{"../../../module/hammer":8,"./Item":24,"./RangeItem":26}],23:[function(n,t){function i(n,t,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},n&&n.start==undefined)throw new Error('Property "start" missing in item '+n);r.call(this,n,t,i)}var r=n("./Item");i.prototype=new r(null,null,null);i.prototype.isVisible=function(n){var t=(n.end-n.start)/4;return this.data.start>n.start-t&&this.data.start<n.end+t};i.prototype.redraw=function(){var n=this.dom,r,t,u,i;if(n||(this.dom={},n=this.dom,n.box=document.createElement("DIV"),n.content=document.createElement("DIV"),n.content.className="content",n.box.appendChild(n.content),n.line=document.createElement("DIV"),n.line.className="line",n.dot=document.createElement("DIV"),n.dot.className="dot",n.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!n.box.parentNode){if(r=this.parent.dom.foreground,!r)throw new Error("Cannot redraw time axis: parent has no foreground container element");r.appendChild(n.box)}if(!n.line.parentNode){if(t=this.parent.dom.background,!t)throw new Error("Cannot redraw time axis: parent has no background container element");t.appendChild(n.line)}if(!n.dot.parentNode){if(u=this.parent.dom.axis,!t)throw new Error("Cannot redraw time axis: parent has no axis container element");u.appendChild(n.dot)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),i=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":""),n.box.className="item box"+i,n.line.className="item line"+i,n.dot.className="item dot"+i,this.props.dot.height=n.dot.offsetHeight,this.props.dot.width=n.dot.offsetWidth,this.props.line.width=n.line.offsetWidth,this.width=n.box.offsetWidth,this.height=n.box.offsetHeight,this.dirty=!1);this._repaintDeleteButton(n.box)};i.prototype.show=function(){this.displayed||this.redraw()};i.prototype.hide=function(){if(this.displayed){var n=this.dom;n.box.parentNode&&n.box.parentNode.removeChild(n.box);n.line.parentNode&&n.line.parentNode.removeChild(n.line);n.dot.parentNode&&n.dot.parentNode.removeChild(n.dot);this.top=null;this.left=null;this.displayed=!1}};i.prototype.repositionX=function(){var n=this.conversion.toScreen(this.data.start),t=this.options.align,i=this.dom.box,r=this.dom.line,u=this.dom.dot;this.left=t=="right"?n-this.width:t=="left"?n:n-this.width/2;i.style.left=this.left+"px";r.style.left=n-this.props.line.width/2+"px";u.style.left=n-this.props.dot.width/2+"px"};i.prototype.repositionY=function(){var u=this.options.orientation,i=this.dom.box,n=this.dom.line,f=this.dom.dot,t,r;u=="top"?(i.style.top=(this.top||0)+"px",n.style.top="0",n.style.height=this.parent.top+this.top+1+"px",n.style.bottom=""):(t=this.parent.itemSet.props.height,r=t-this.parent.top-this.parent.height+this.top,i.style.top=(this.parent.height-this.top-this.height||0)+"px",n.style.top=t-r+"px",n.style.bottom="0");f.style.top=-this.props.dot.height/2+"px"};t.exports=i},{"./Item":24}],24:[function(n,t){function i(n,t,i){this.id=null;this.parent=null;this.data=n;this.dom=null;this.conversion=t||{};this.options=i||{};this.selected=!1;this.displayed=!1;this.dirty=!0;this.top=null;this.left=null;this.width=null;this.height=null}var r=n("../../../module/hammer");i.prototype.select=function(){this.selected=!0;this.dirty=!0;this.displayed&&this.redraw()};i.prototype.unselect=function(){this.selected=!1;this.dirty=!0;this.displayed&&this.redraw()};i.prototype.setData=function(n){this.data=n;this.dirty=!0;this.displayed&&this.redraw()};i.prototype.setParent=function(n){this.displayed?(this.hide(),this.parent=n,this.parent&&this.show()):this.parent=n};i.prototype.isVisible=function(){return!1};i.prototype.show=function(){return!1};i.prototype.hide=function(){return!1};i.prototype.redraw=function(){};i.prototype.repositionX=function(){};i.prototype.repositionY=function(){};i.prototype._repaintDeleteButton=function(n){if(this.selected&&this.options.editable.remove&&!this.dom.deleteButton){var i=this,t=document.createElement("div");t.className="delete";t.title="Delete this item";r(t,{preventDefault:!0}).on("tap",function(n){i.parent.removeFromDataSet(i);n.stopPropagation()});n.appendChild(t);this.dom.deleteButton=t}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)};i.prototype._updateContents=function(n){var t,i;if(this.options.template?(i=this.parent.itemSet.itemsData.get(this.id),t=this.options.template(i)):t=this.data.content,t instanceof Element)n.innerHTML="",n.appendChild(t);else if(t!=undefined)n.innerHTML=t;else throw new Error('Property "content" missing in item '+this.data.id);};i.prototype._updateTitle=function(n){this.data.title!=null?n.title=this.data.title||"":n.removeAttribute("title")};i.prototype._updateDataAttributes=function(n){var t,i,r;if(this.options.dataAttributes&&this.options.dataAttributes.length>0)for(t=0;t<this.options.dataAttributes.length;t++)i=this.options.dataAttributes[t],r=this.data[i],r!=null?n.setAttribute("data-"+i,r):n.removeAttribute("data-"+i)};t.exports=i},{"../../../module/hammer":8}],25:[function(n,t){function i(n,t,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}},n&&n.start==undefined)throw new Error('Property "start" missing in item '+n);r.call(this,n,t,i)}var r=n("./Item");i.prototype=new r(null,null,null);i.prototype.isVisible=function(n){var t=(n.end-n.start)/4;return this.data.start>n.start-t&&this.data.start<n.end+t};i.prototype.redraw=function(){var n=this.dom,t,i;if(n||(this.dom={},n=this.dom,n.point=document.createElement("div"),n.content=document.createElement("div"),n.content.className="content",n.point.appendChild(n.content),n.dot=document.createElement("div"),n.point.appendChild(n.dot),n.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!n.point.parentNode){if(t=this.parent.dom.foreground,!t)throw new Error("Cannot redraw time axis: parent has no foreground container element");t.appendChild(n.point)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),i=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":""),n.point.className="item point"+i,n.dot.className="item dot"+i,this.width=n.point.offsetWidth,this.height=n.point.offsetHeight,this.props.dot.width=n.dot.offsetWidth,this.props.dot.height=n.dot.offsetHeight,this.props.content.height=n.content.offsetHeight,n.content.style.marginLeft=2*this.props.dot.width+"px",n.dot.style.top=(this.height-this.props.dot.height)/2+"px",n.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1);this._repaintDeleteButton(n.point)};i.prototype.show=function(){this.displayed||this.redraw()};i.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.top=null,this.left=null,this.displayed=!1)};i.prototype.repositionX=function(){var n=this.conversion.toScreen(this.data.start);this.left=n-this.props.dot.width;this.dom.point.style.left=this.left+"px"};i.prototype.repositionY=function(){var n=this.options.orientation,t=this.dom.point;t.style.top=n=="top"?this.top+"px":this.parent.height-this.top-this.height+"px"};t.exports=i},{"./Item":24}],26:[function(n,t){function i(n,t,i){if(this.props={content:{width:0}},this.overflow=!1,n){if(n.start==undefined)throw new Error('Property "start" missing in item '+n.id);if(n.end==undefined)throw new Error('Property "end" missing in item '+n.id);}u.call(this,n,t,i)}var r=n("../../../module/hammer"),u=n("./Item");i.prototype=new u(null,null,null);i.prototype.baseClassName="item range";i.prototype.isVisible=function(n){return this.data.start<n.end&&this.data.end>n.start};i.prototype.redraw=function(){var n=this.dom,t,i;if(n||(this.dom={},n=this.dom,n.box=document.createElement("div"),n.content=document.createElement("div"),n.content.className="content",n.box.appendChild(n.content),n.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!n.box.parentNode){if(t=this.parent.dom.foreground,!t)throw new Error("Cannot redraw time axis: parent has no foreground container element");t.appendChild(n.box)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),i=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":""),n.box.className=this.baseClassName+i,this.overflow=window.getComputedStyle(n.content).overflow!=="hidden",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dirty=!1);this._repaintDeleteButton(n.box);this._repaintDragLeft();this._repaintDragRight()};i.prototype.show=function(){this.displayed||this.redraw()};i.prototype.hide=function(){if(this.displayed){var n=this.dom.box;n.parentNode&&n.parentNode.removeChild(n);this.top=null;this.left=null;this.displayed=!1}};i.prototype.repositionX=function(){var r=this.parent.width,n=this.conversion.toScreen(this.data.start),i=this.conversion.toScreen(this.data.end),f,u,t;n<-r&&(n=-r);i>2*r&&(i=2*r);t=Math.max(i-n,1);this.overflow?(this.left=n,this.width=t+this.props.content.width,u=this.props.content.width):(this.left=n,this.width=t,u=Math.min(i-n,this.props.content.width));this.dom.box.style.left=this.left+"px";this.dom.box.style.width=t+"px";switch(this.options.align){case"left":this.dom.content.style.left="0";break;case"right":this.dom.content.style.left=Math.max(t-u-2*this.options.padding,0)+"px";break;case"center":this.dom.content.style.left=Math.max((t-u-2*this.options.padding)/2,0)+"px";break;default:f=this.overflow?Math.max(-n,0):n<0?Math.min(-n,i-n-this.props.content.width-2*this.options.padding):0;this.dom.content.style.left=f+"px"}};i.prototype.repositionY=function(){var n=this.options.orientation,t=this.dom.box;t.style.top=n=="top"?this.top+"px":this.parent.height-this.top-this.height+"px"};i.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var n=document.createElement("div");n.className="drag-left";n.dragLeftItem=this;r(n,{preventDefault:!0}).on("drag",function(){});this.dom.box.appendChild(n);this.dom.dragLeft=n}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)};i.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var n=document.createElement("div");n.className="drag-right";n.dragRightItem=this;r(n,{preventDefault:!0}).on("drag",function(){});this.dom.box.appendChild(n);this.dom.dragRight=n}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)};t.exports=i},{"../../../module/hammer":8,"./Item":24}],27:[function(n,t,i){i.en={current:"current",time:"time"};i.en_EN=i.en;i.en_US=i.en;i.nl={custom:"aangepaste",time:"tijd"};i.nl_NL=i.nl;i.nl_BE=i.nl},{}],28:[function(n,t,i){var r=n("./module/moment"),u;i.isNumber=function(n){return n instanceof Number||typeof n=="number"};i.isString=function(n){return n instanceof String||typeof n=="string"};i.isDate=function(n){if(n instanceof Date)return!0;if(i.isString(n)){var t=u.exec(n);if(t||!isNaN(Date.parse(n)))return!0}return!1};i.isDataTable=function(n){return typeof google!="undefined"&&google.visualization&&google.visualization.DataTable&&n instanceof google.visualization.DataTable};i.randomUUID=function(){var n=function(){return Math.floor(Math.random()*65536).toString(16)};return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()};i.extend=function(n){for(var i,r,t=1,u=arguments.length;t<u;t++){i=arguments[t];for(r in i)i.hasOwnProperty(r)&&(n[r]=i[r])}return n};i.selectiveExtend=function(n,t){var i,f,r,u;if(!Array.isArray(n))throw new Error("Array with property names expected as first argument");for(i=2;i<arguments.length;i++)for(f=arguments[i],r=0;r<n.length;r++)u=n[r],f.hasOwnProperty(u)&&(t[u]=f[u]);return t};i.selectiveDeepExtend=function(n,t,r){var f,o,e,u;if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(f=2;f<arguments.length;f++)for(o=arguments[f],e=0;e<n.length;e++)if(u=n[e],o.hasOwnProperty(u))if(r[u]&&r[u].constructor===Object)t[u]===undefined&&(t[u]={}),t[u].constructor===Object?i.deepExtend(t[u],r[u]):t[u]=r[u];else if(Array.isArray(r[u]))throw new TypeError("Arrays are not supported by deepExtend");else t[u]=r[u];return t};i.selectiveNotDeepExtend=function(n,t,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var u in r)if(r.hasOwnProperty(u)&&n.indexOf(u)==-1)if(r[u]&&r[u].constructor===Object)t[u]===undefined&&(t[u]={}),t[u].constructor===Object?i.deepExtend(t[u],r[u]):t[u]=r[u];else if(Array.isArray(r[u]))throw new TypeError("Arrays are not supported by deepExtend");else t[u]=r[u];return t};i.deepExtend=function(n,t){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(var r in t)if(t.hasOwnProperty(r))if(t[r]&&t[r].constructor===Object)n[r]===undefined&&(n[r]={}),n[r].constructor===Object?i.deepExtend(n[r],t[r]):n[r]=t[r];else if(Array.isArray(t[r]))throw new TypeError("Arrays are not supported by deepExtend");else n[r]=t[r];return n};i.equalArray=function(n,t){if(n.length!=t.length)return!1;for(var i=0,r=n.length;i<r;i++)if(n[i]!=t[i])return!1;return!0};i.convert=function(n,t){var f,e;if(n===undefined)return undefined;if(n===null)return null;if(!t)return n;if(!(typeof t=="string")&&!(t instanceof String))throw new Error("Type must be a string");switch(t){case"boolean":case"Boolean":return Boolean(n);case"number":case"Number":return Number(n.valueOf());case"string":case"String":return String(n);case"Date":if(i.isNumber(n))return new Date(n);if(n instanceof Date||r.isMoment(n))return new Date(n.valueOf());if(i.isString(n))return f=u.exec(n),f?new Date(Number(f[1])):r(n).toDate();throw new Error("Cannot convert object of type "+i.getType(n)+" to type Date");case"Moment":if(i.isNumber(n))return r(n);if(n instanceof Date)return r(n.valueOf());if(r.isMoment(n))return r(n);if(i.isString(n))return f=u.exec(n),f?r(Number(f[1])):r(n);throw new Error("Cannot convert object of type "+i.getType(n)+" to type Date");case"ISODate":if(i.isNumber(n))return new Date(n);if(n instanceof Date)return n.toISOString();if(r.isMoment(n))return n.toDate().toISOString();if(i.isString(n))return f=u.exec(n),f?new Date(Number(f[1])).toISOString():new Date(n).toISOString();throw new Error("Cannot convert object of type "+i.getType(n)+" to type ISODate");case"ASPDate":if(i.isNumber(n))return"/Date("+n+")/";if(n instanceof Date)return"/Date("+n.valueOf()+")/";if(i.isString(n))return f=u.exec(n),e=f?new Date(Number(f[1])).valueOf():new Date(n).valueOf(),"/Date("+e+")/";throw new Error("Cannot convert object of type "+i.getType(n)+" to type ASPDate");default:throw new Error('Unknown type "'+t+'"');}};u=/^\/?Date\((\-?\d+)/i;i.getType=function(n){var t=typeof n;return t=="object"?n==null?"null":n instanceof Boolean?"Boolean":n instanceof Number?"Number":n instanceof String?"String":n instanceof Array?"Array":n instanceof Date?"Date":"Object":t=="number"?"Number":t=="boolean"?"Boolean":t=="string"?"String":t};i.getAbsoluteLeft=function(n){return n.getBoundingClientRect().left+window.pageXOffset};i.getAbsoluteTop=function(n){return n.getBoundingClientRect().top+window.pageYOffset};i.addClassName=function(n,t){var i=n.className.split(" ");i.indexOf(t)==-1&&(i.push(t),n.className=i.join(" "))};i.removeClassName=function(n,t){var i=n.className.split(" "),r=i.indexOf(t);r!=-1&&(i.splice(r,1),n.className=i.join(" "))};i.forEach=function(n,t){var i,r;if(n instanceof Array)for(i=0,r=n.length;i<r;i++)t(n[i],i,n);else for(i in n)n.hasOwnProperty(i)&&t(n[i],i,n)};i.toArray=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t};i.updateProperty=function(n,t,i){return n[t]!==i?(n[t]=i,!0):!1};i.addEventListener=function(n,t,i,r){n.addEventListener?(r===undefined&&(r=!1),t==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),n.addEventListener(t,i,r)):n.attachEvent("on"+t,i)};i.removeEventListener=function(n,t,i,r){n.removeEventListener?(r===undefined&&(r=!1),t==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),n.removeEventListener(t,i,r)):n.detachEvent("on"+t,i)};i.preventDefault=function(n){n||(n=window.event);n.preventDefault?n.preventDefault():n.returnValue=!1};i.getTarget=function(n){n||(n=window.event);var t;return n.target?t=n.target:n.srcElement&&(t=n.srcElement),t.nodeType!=undefined&&t.nodeType==3&&(t=t.parentNode),t};i.option={};i.option.asBoolean=function(n,t){return(typeof n=="function"&&(n=n()),n!=null)?n!=!1:t||null};i.option.asNumber=function(n,t){return(typeof n=="function"&&(n=n()),n!=null)?Number(n)||t||null:t||null};i.option.asString=function(n,t){return(typeof n=="function"&&(n=n()),n!=null)?String(n):t||null};i.option.asSize=function(n,t){return typeof n=="function"&&(n=n()),i.isString(n)?n:i.isNumber(n)?n+"px":t||null};i.option.asElement=function(n,t){return typeof n=="function"&&(n=n()),n||t||null};i.GiveDec=function(Hex){return Hex=="A"?10:Hex=="B"?11:Hex=="C"?12:Hex=="D"?13:Hex=="E"?14:Hex=="F"?15:eval(Hex)};i.GiveHex=function(n){return n==10?"A":n==11?"B":n==12?"C":n==13?"D":n==14?"E":n==15?"F":""+n};i.parseColor=function(n){var t,u;if(i.isString(n))if(i.isValidRGB(n)&&(u=n.substr(4).substr(0,n.length-5).split(","),n=i.RGBToHex(u[0],u[1],u[2])),i.isValidHex(n)){var r=i.hexToHSV(n),f={h:r.h,s:r.s*.45,v:Math.min(1,r.v*1.05)},e={h:r.h,s:Math.min(1,r.v*1.25),v:r.v*.6},o=i.HSVToHex(e.h,e.h,e.v),s=i.HSVToHex(f.h,f.s,f.v);t={background:n,border:o,highlight:{background:s,border:o},hover:{background:s,border:o}}}else t={background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}};else t={},t.background=n.background||"white",t.border=n.border||t.background,i.isString(n.highlight)?t.highlight={border:n.highlight,background:n.highlight}:(t.highlight={},t.highlight.background=n.highlight&&n.highlight.background||t.background,t.highlight.border=n.highlight&&n.highlight.border||t.border),i.isString(n.hover)?t.hover={border:n.hover,background:n.hover}:(t.hover={},t.hover.background=n.hover&&n.hover.background||t.background,t.hover.border=n.hover&&n.hover.border||t.border);return t};i.hexToRGB=function(n){n=n.replace("#","").toUpperCase();var r=i.GiveDec(n.substring(0,1)),t=i.GiveDec(n.substring(1,2)),u=i.GiveDec(n.substring(2,3)),f=i.GiveDec(n.substring(3,4)),e=i.GiveDec(n.substring(4,5)),o=i.GiveDec(n.substring(5,6)),s=r*16+t,h=u*16+f,t=e*16+o;return{r:s,g:h,b:t}};i.RGBToHex=function(n,t,r){var u=i.GiveHex(Math.floor(n/16)),f=i.GiveHex(n%16),e=i.GiveHex(Math.floor(t/16)),o=i.GiveHex(t%16),s=i.GiveHex(Math.floor(r/16)),h=i.GiveHex(r%16),c=u+f+e+o+s+h;return"#"+c};i.RGBToHSV=function(n,t,i){var r,u;if(n=n/255,t=t/255,i=i/255,r=Math.min(n,Math.min(t,i)),u=Math.max(n,Math.max(t,i)),r==u)return{h:0,s:0,v:r};var f=n==r?t-i:i==r?n-t:i-n,e=n==r?3:i==r?1:5,o=(e-f/(u-r))/6,s=(u-r)/u,h=u;return{h:o,s:s,v:h}};i.HSVToRGB=function(n,t,i){var r,u,f,h=Math.floor(n*6),c=n*6-h,e=i*(1-t),o=i*(1-c*t),s=i*(1-(1-c)*t);switch(h%6){case 0:r=i;u=s;f=e;break;case 1:r=o;u=i;f=e;break;case 2:r=e;u=i;f=s;break;case 3:r=e;u=o;f=i;break;case 4:r=s;u=e;f=i;break;case 5:r=i;u=e;f=o}return{r:Math.floor(r*255),g:Math.floor(u*255),b:Math.floor(f*255)}};i.HSVToHex=function(n,t,r){var u=i.HSVToRGB(n,t,r);return i.RGBToHex(u.r,u.g,u.b)};i.hexToHSV=function(n){var t=i.hexToRGB(n);return i.RGBToHSV(t.r,t.g,t.b)};i.isValidHex=function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)};i.isValidRGB=function(n){n=n.replace(" ","");return/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(n)};i.selectiveBridgeObject=function(n,t){var u,r;if(typeof t=="object"){for(u=Object.create(t),r=0;r<n.length;r++)t.hasOwnProperty(n[r])&&typeof t[n[r]]=="object"&&(u[n[r]]=i.bridgeObject(t[n[r]]));return u}return null};i.bridgeObject=function(n){var r,t;if(typeof n=="object"){r=Object.create(n);for(t in n)n.hasOwnProperty(t)&&typeof n[t]=="object"&&(r[t]=i.bridgeObject(n[t]));return r}return null};i.mergeOptions=function(n,t,i){if(t[i]!==undefined)if(typeof t[i]=="boolean")n[i].enabled=t[i];else{n[i].enabled=!0;for(prop in t[i])t[i].hasOwnProperty(prop)&&(n[i][prop]=t[i][prop])}};i.mergeOptions=function(n,t,i){if(t[i]!==undefined)if(typeof t[i]=="boolean")n[i].enabled=t[i];else{n[i].enabled=!0;for(prop in t[i])t[i].hasOwnProperty(prop)&&(n[i][prop]=t[i][prop])}};i.binarySearch=function(n,t,i,r){var o=n,a=1e4,s=0,h=!1,e=0,u=o.length,c=e,l=u,f=Math.floor(.5*(u+e)),v;if(u==0)f=-1;else if(u==1)f=o[f].isVisible(t)?0:-1;else{for(u-=1;h==!1&&s<a;)v=r===undefined?o[f][i]:o[f][i][r],o[f].isVisible(t)?h=!0:(v<t.start?c=Math.floor(.5*(u+e)):l=Math.floor(.5*(u+e)),e==c&&u==l?(f=-1,h=!0):(u=l,e=c,f=Math.floor(.5*(u+e)))),s++;s>=a&&console.log("BinarySearch too many iterations. Aborting.")}return f};i.binarySearchGeneric=function(n,t,i,r){var p=1e4,h=0,s=n,c=!1,o=0,f=s.length,l=o,a=f,u=Math.floor(.5*(f+o)),w,v,e,y;if(f==0)u=-1;else if(f==1)e=s[u][i],u=e==t?0:-1;else{for(f-=1;c==!1&&h<p;)v=s[Math.max(0,u-1)][i],e=s[u][i],y=s[Math.min(s.length-1,u+1)][i],e==t||v<t&&e>t||e<t&&y>t?(c=!0,e!=t&&(r=="before"?v<t&&e>t&&(u=Math.max(0,u-1)):e<t&&y>t&&(u=Math.min(s.length-1,u+1)))):(e<t?l=Math.floor(.5*(f+o)):a=Math.floor(.5*(f+o)),w=Math.floor(.5*(f+o)),o==l&&f==a?(u=-1,c=!0):(f=a,o=l,u=Math.floor(.5*(f+o)))),h++;h>=p&&console.log("BinarySearch too many iterations. Aborting.")}return u};i.easeInOutQuad=function(n,t,i,r){var u=i-t;return(n/=r/2,n<1)?u/2*n*n+t:(n--,-u/2*(n*(n-2)-1)+t)}},{"./module/moment":9}]},{},[4])(4)});
/*
//# sourceMappingURL=vis-custom.min.js.map
*/