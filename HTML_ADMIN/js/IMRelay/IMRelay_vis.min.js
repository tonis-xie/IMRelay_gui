$(function(){function a(n){var t=document.createElement("button");return t.className="btn btn-default vis_btn_disabled",t.type="button",t.id="vis_group_button_"+n,t.innerText=n+": Disabled",t}function v(t){var r=[{id:1,time_feeding_intervals:0},{id:2,time_feeding_intervals:0},{id:3,time_feeding_intervals:0},{id:4,time_feeding_intervals:0},{id:5,time_feeding_intervals:0},{id:6,time_feeding_intervals:0},{id:7,time_feeding_intervals:0},{id:8,time_feeding_intervals:0},{id:9,time_feeding_intervals:0},{id:10,time_feeding_intervals:0},{id:11,time_feeding_intervals:0},{id:12,time_feeding_intervals:0},{id:13,time_feeding_intervals:0},{id:14,time_feeding_intervals:0},{id:15,time_feeding_intervals:0},{id:16,time_feeding_intervals:0}];for(var i in t)t[i].start=new Date(t[i].start).setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t[i].end=new Date(t[i].end).setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r[t[i].group].time_feeding_intervals+=(t[i].end-t[i].start)/6e4;console.log(r);g_LDA.feeding_table.update(r)}function c(n){$("#vis_group_button_"+n).removeClass("btn-default vis_btn_disabled").addClass("btn-success vis_btn_enabled");$("#vis_group_button_"+n).html(n+": Enabled")}function l(n){$("#vis_group_button_"+n).removeClass("btn-success vis_btn_enabled").addClass("btn-default vis_btn_disabled");$("#vis_group_button_"+n).html(n+": Disabled")}function b(n){$("#vis_group_button_"+n).click(function(){$("#vis_group_button_"+n).hasClass("vis_btn_disabled")?(g_LDA.groups.update({id:n,className:"vis_group_enabled"}),g_LDA.feeding_table.update({id:n,start_date:(new Date).setHours(0,0,0,0)}),c(n)):(g_LDA.groups.update({id:n,className:"vis_group_disabled"}),l(n))})}var t,n,i,r,e,o,f,s,h,u;for(g_LDA.groups=new vis.DataSet,t=1;t<=16;t++)g_LDA.groups.add({id:t,className:"vis_group_disabled",content:a(t),value:t});g_LDA.groups.on("*",function(){var n=g_LDA.groups.get({fields:["id","className"]}),t,i;localStorage["timeline.groups"]=JSON.stringify(n);t=g_LDA.feeding_table.get({fields:["id","state"]});for(i in n)t[i].state=n[i].className==="vis_group_disabled"?"inactive":"active";g_LDA.feeding_table.update(t)});n=new Date;n.setHours(0,0,0,0);i=new Date;i.setTime(n.getTime()+864e5);r=new vis.DataSet;e=localStorage["timeline.items"];e!=null&&(o=JSON.parse(e),v(o),r._data=o,localStorage["timeline.items"]=JSON.stringify(r._data));r.on("*",function(){localStorage["timeline.items"]=JSON.stringify(r._data)});var y={align:"center",autoResize:!0,editable:{add:!0,remove:!0,updateGroup:!1,updateTime:!0},end:i,groupOrder:function(n,t){return n.value-t.value},margin:{axis:0,item:6},max:i,min:n,onAdd:function(t,r){n<=t.start&&i>=t.end&&(date_to_hhmmss(t.start)<date_to_hhmmss(t.end)||date_to_hhmmss(t.end)==="00:00:00")?(t.content=date_to_hhmmss(t.start)+" - "+date_to_hhmmss(t.end),r(t)):r(null)},onMove:function(t,r){n<=t.start&&i>=t.end&&(date_to_hhmmss(t.start)<date_to_hhmmss(t.end)||date_to_hhmmss(t.end)==="00:00:00")?(t.content=date_to_hhmmss(t.start)+" - "+date_to_hhmmss(t.end),r(t)):r(null)},onRemove:function(n,t){confirm("Remove item from relay "+n.group+"? ("+n.content+")")?t(n):t(null)},orientation:"bottom",selectable:!0,showCurrentTime:!0,showCustomTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!1,start:n,type:"range",width:"auto",zoomMax:864e5,zoomMin:6e4},p=document.getElementById("vis_timeline"),w=new vis.Timeline(p,r,y);for(w.setGroups(g_LDA.groups),f=1;f<=16;f++)b(f);if(s=localStorage["timeline.groups"],s!=null)for(h=JSON.parse(s),g_LDA.groups.update(h),u=0;u<16;u++)h[u].className=="vis_group_disabled"?l(u+1):c(u+1)});
/*
//# sourceMappingURL=IMRelay_vis.min.js.map
*/