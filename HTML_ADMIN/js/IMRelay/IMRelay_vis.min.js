$(function(){function l(n){var t=document.createElement("button");return t.className="btn btn-default vis_btn_disabled",t.type="button",t.id="vis_group_button_"+n,t.innerText=n+": Disabled",t}function a(t){var r=[{id:1,time_feeding_intervals:0},{id:2,time_feeding_intervals:0},{id:3,time_feeding_intervals:0},{id:4,time_feeding_intervals:0},{id:5,time_feeding_intervals:0},{id:6,time_feeding_intervals:0},{id:7,time_feeding_intervals:0},{id:8,time_feeding_intervals:0},{id:9,time_feeding_intervals:0},{id:10,time_feeding_intervals:0},{id:11,time_feeding_intervals:0},{id:12,time_feeding_intervals:0},{id:13,time_feeding_intervals:0},{id:14,time_feeding_intervals:0},{id:15,time_feeding_intervals:0},{id:16,time_feeding_intervals:0}];for(var i in t)t[i].start=new Date(t[i].start).setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t[i].end=new Date(t[i].end).setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r[t[i].group-1].time_feeding_intervals+=(t[i].end-t[i].start)/1e3;g_LDA.feeding_table.update(r)}function h(n){$("#vis_group_button_"+n).removeClass("btn-default vis_btn_disabled").addClass("btn-success vis_btn_enabled");$("#vis_group_button_"+n).html(n+": Enabled")}function c(n){$("#vis_group_button_"+n).removeClass("btn-success vis_btn_enabled").addClass("btn-default vis_btn_disabled");$("#vis_group_button_"+n).html(n+": Disabled")}function w(n){$("#vis_group_button_"+n).click(function(){$("#vis_group_button_"+n).hasClass("vis_btn_disabled")?(g_LDA.groups.update({id:n,className:"vis_group_enabled"}),g_LDA.feeding_table.update({id:n,start_date:(new Date).setHours(0,0,0,0)}),h(n)):(g_LDA.groups.update({id:n,className:"vis_group_disabled"}),c(n))})}var t,n,i,f,e,u,o,s,r;for(g_LDA.groups=new vis.DataSet,t=1;t<=16;t++)g_LDA.groups.add({id:t,className:"vis_group_disabled",content:l(t),value:t});g_LDA.groups.on("*",function(){var n=g_LDA.groups.get({fields:["id","className"]}),t,i;localStorage["timeline.groups"]=JSON.stringify(n);t=g_LDA.feeding_table.get({fields:["id","state"]});for(i in n)t[i].state=n[i].className==="vis_group_disabled"?"inactive":"active";g_LDA.feeding_table.update(t)});n=new Date;n.setHours(0,0,0,0);i=new Date;i.setTime(n.getTime()+864e5);g_LDA.items=new vis.DataSet;f=localStorage["timeline.items"];f!=null&&(e=JSON.parse(f),a(e),g_LDA.items._data=e,localStorage["timeline.items"]=JSON.stringify(g_LDA.items._data));g_LDA.items.on("*",function(){var t,n;localStorage["timeline.items"]=JSON.stringify(g_LDA.items._data);t=[{id:1,time_feeding_intervals:0},{id:2,time_feeding_intervals:0},{id:3,time_feeding_intervals:0},{id:4,time_feeding_intervals:0},{id:5,time_feeding_intervals:0},{id:6,time_feeding_intervals:0},{id:7,time_feeding_intervals:0},{id:8,time_feeding_intervals:0},{id:9,time_feeding_intervals:0},{id:10,time_feeding_intervals:0},{id:11,time_feeding_intervals:0},{id:12,time_feeding_intervals:0},{id:13,time_feeding_intervals:0},{id:14,time_feeding_intervals:0},{id:15,time_feeding_intervals:0},{id:16,time_feeding_intervals:0}];for(n in g_LDA.items._data)t[g_LDA.items._data[n].group-1].time_feeding_intervals+=(g_LDA.items._data[n].end-g_LDA.items._data[n].start)/1e3;g_LDA.feeding_table.update(t)});var v={align:"center",autoResize:!0,editable:{add:!0,remove:!0,updateGroup:!1,updateTime:!0},end:i,groupOrder:function(n,t){return n.value-t.value},margin:{axis:0,item:6},max:i,min:n,onAdd:function(t,r){n<=t.start&&i>=t.end&&(date_to_hhmmss(t.start)<date_to_hhmmss(t.end)||date_to_hhmmss(t.end)==="00:00:00")?(t.content=date_to_hhmmss(t.start)+" - "+date_to_hhmmss(t.end),r(t)):r(null)},onMove:function(t,r){n<=t.start&&i>=t.end&&(date_to_hhmmss(t.start)<date_to_hhmmss(t.end)||date_to_hhmmss(t.end)==="00:00:00")?(t.content=date_to_hhmmss(t.start)+" - "+date_to_hhmmss(t.end),r(t)):r(null)},onRemove:function(n,t){confirm("Remove item from relay "+n.group+"? ("+n.content+")")?t(n):t(null)},orientation:"bottom",selectable:!0,showCurrentTime:!0,showCustomTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!1,start:n,type:"range",width:"auto",zoomMax:864e5,zoomMin:6e4},y=document.getElementById("vis_timeline"),p=new vis.Timeline(y,g_LDA.items,v);for(p.setGroups(g_LDA.groups),u=1;u<=16;u++)w(u);if(o=localStorage["timeline.groups"],o!=null)for(s=JSON.parse(o),g_LDA.groups.update(s),r=0;r<16;r++)s[r].className=="vis_group_disabled"?c(r+1):h(r+1)});
/*
//# sourceMappingURL=IMRelay_vis.min.js.map
*/